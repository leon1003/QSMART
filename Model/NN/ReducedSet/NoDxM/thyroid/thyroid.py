from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"thyroid", "version": u"14.1.0", "timestamp": u"2019-12-12T03:15:05Z"}


def getInputMetadata():
    return {
        u"EXP_CLK4": "float",
        u"EXP_PLK3": "float",
        u"EXP_PLK3_X_EXP_PTEN": "float",
        u"EXP_PRKCG": "float",
        u"EXP_PRKCG_X_EXP_TRPV4": "float",
        u"EXP_SGK2": "float",
        u"EXP_STK10": "float",
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_629": "float",
        u"Fingerprint_635": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_648": "float",
        u"Fingerprint_677": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_687": "float",
        u"Fingerprint_694": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_710": "float",
        u"Fingerprint_780": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_799": "float",
        u"Fingerprint_806": "float",
        u"Fingerprint_818": "float",
        u"Fingerprint_819": "float",
        u"Fingerprint_821": "float",
        u"Fingerprint_826": "float",
        u"Fingerprint_828": "float",
        u"Fingerprint_834": "float",
        u"Fingerprint_835": "float",
        u"Fingerprint_860": "float",
        u"From_Sanger": "float",
        u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6

    H1_1 = tanh((6.11994997342226 + -0.164375720407332 * indata[u"EXP_CLK4"] + 0.406427590877725 * indata[u"EXP_PLK3"] + 0.0119484083169957 * indata[u"EXP_PLK3_X_EXP_PTEN"] + 1.11096043596664 * indata[u"EXP_PRKCG"] + 0.0473381948205632 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + 0.31058529606488 * indata[u"EXP_SGK2"] + 0.0347385823989824 * indata[u"EXP_STK10"] + -0.483043979250428 * indata[u"Fingerprint_611"] + -3.90935501102858 * indata[u"Fingerprint_617"] + -7.44134728263221 * indata[u"Fingerprint_629"] + 22.0675684298001 * indata[u"Fingerprint_635"] + 7.28913977398655 * indata[u"Fingerprint_646"] + -3.83572678322267 * indata[u"Fingerprint_648"] + 1.48252391147041 * indata[u"Fingerprint_677"] + 13.9401146732702 * indata[u"Fingerprint_686"] + -11.9051672801072 * indata[u"Fingerprint_687"] + -27.4356671828544 * indata[u"Fingerprint_694"] + -15.4811737508194 * indata[u"Fingerprint_697"] + 1.35691698836816 * indata[u"Fingerprint_710"] + 15.8547060066935 * indata[u"Fingerprint_780"] + -0.262355174121299 * indata[u"Fingerprint_797"] + 10.6414810939035 * indata[u"Fingerprint_799"] + 1.18336368477158 * indata[u"Fingerprint_806"] + -15.6236095864269 * indata[u"Fingerprint_818"] + 2.02283558127245 * indata[u"Fingerprint_819"] + -6.98066051233383 * indata[u"Fingerprint_821"] + 5.94224937450497 * indata[u"Fingerprint_826"] + 1.35979343074947 * indata[u"Fingerprint_828"] + 6.17216276224382 * indata[u"Fingerprint_834"] + -4.05200177307682 * indata[u"Fingerprint_835"] + -13.2888026239513 * indata[u"Fingerprint_860"] + -8.9542493428103 * indata[u"From_Sanger"] + 0.602655179716975 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    H1_2 = tanh((-696.520662035201 + 40.061486901492 * indata[u"EXP_CLK4"] + -13.2493414766797 * indata[u"EXP_PLK3"] + 3.38602154716703 * indata[u"EXP_PLK3_X_EXP_PTEN"] + 5.11605545595823 * indata[u"EXP_PRKCG"] + 5.98532873258976 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + 115.697494926396 * indata[u"EXP_SGK2"] + -4.74632232025526 * indata[u"EXP_STK10"] + 17.6181432552357 * indata[u"Fingerprint_611"] + -5.08154014693983 * indata[u"Fingerprint_617"] + -57.8252632401316 * indata[u"Fingerprint_629"] + -13.2799633595735 * indata[u"Fingerprint_635"] + 6.99016526716108 * indata[u"Fingerprint_646"] + -121.391982239582 * indata[u"Fingerprint_648"] + 101.433527293711 * indata[u"Fingerprint_677"] + -21.683859660904 * indata[u"Fingerprint_686"] + -110.023369055435 * indata[u"Fingerprint_687"] + -46.0298214477602 * indata[u"Fingerprint_694"] + -31.533112621265 * indata[u"Fingerprint_697"] + -2.38078111637356 * indata[u"Fingerprint_710"] + 9.18700180002878 * indata[u"Fingerprint_780"] + 0.0878348164353294 * indata[u"Fingerprint_797"] + -124.160608972781 * indata[u"Fingerprint_799"] + 34.4766895439022 * indata[u"Fingerprint_806"] + 28.0086532538006 * indata[u"Fingerprint_818"] + -65.9348341783058 * indata[u"Fingerprint_819"] + -17.2899138532241 * indata[u"Fingerprint_821"] + -29.4530853956962 * indata[u"Fingerprint_826"] + 51.5209295316074 * indata[u"Fingerprint_828"] + 16.0098532411558 * indata[u"Fingerprint_834"] + -125.027643098243 * indata[u"Fingerprint_835"] + -112.129795459125 * indata[u"Fingerprint_860"] + -19.5345484633072 * indata[u"From_Sanger"] + -2.33273418896004 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    H1_3 = tanh((68.1350089655108 + -4.64962860457779 * indata[u"EXP_CLK4"] + 1.06123503649813 * indata[u"EXP_PLK3"] + 0.147543013180614 * indata[u"EXP_PLK3_X_EXP_PTEN"] + -34.6270635232831 * indata[u"EXP_PRKCG"] + 2.41429027989202 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + -13.7160071751411 * indata[u"EXP_SGK2"] + 8.53222612353448 * indata[u"EXP_STK10"] + -10.6284515579844 * indata[u"Fingerprint_611"] + 18.3815729606907 * indata[u"Fingerprint_617"] + 38.7242123825014 * indata[u"Fingerprint_629"] + -13.1277334816681 * indata[u"Fingerprint_635"] + 13.0605349957041 * indata[u"Fingerprint_646"] + -5.47630723703848 * indata[u"Fingerprint_648"] + -0.0468810220106449 * indata[u"Fingerprint_677"] + -46.9194624412977 * indata[u"Fingerprint_686"] + 14.4854071277563 * indata[u"Fingerprint_687"] + 1.42629137466092 * indata[u"Fingerprint_694"] + -10.992551023917 * indata[u"Fingerprint_697"] + 13.4510749640748 * indata[u"Fingerprint_710"] + -6.9367429161698 * indata[u"Fingerprint_780"] + 14.4455519069545 * indata[u"Fingerprint_797"] + 0.127153725257409 * indata[u"Fingerprint_799"] + -1.36726247221336 * indata[u"Fingerprint_806"] + -41.9432739494813 * indata[u"Fingerprint_818"] + 13.4092141125615 * indata[u"Fingerprint_819"] + 25.5281988269156 * indata[u"Fingerprint_821"] + -4.55725524957483 * indata[u"Fingerprint_826"] + -0.61597916674922 * indata[u"Fingerprint_828"] + 1.31359939816053 * indata[u"Fingerprint_834"] + 38.290880037319 * indata[u"Fingerprint_835"] + -12.478849183296 * indata[u"Fingerprint_860"] + 23.5733676764373 * indata[u"From_Sanger"] + -0.615022952838125 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    H1_4 = tanh((175.759742220427 + 4.84435744343592 * indata[u"EXP_CLK4"] + -17.6657898863193 * indata[u"EXP_PLK3"] + 1.16516145796858 * indata[u"EXP_PLK3_X_EXP_PTEN"] + -37.0140806024042 * indata[u"EXP_PRKCG"] + 0.232355543844713 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + 1.04805627899279 * indata[u"EXP_SGK2"] + -5.72043335634477 * indata[u"EXP_STK10"] + -32.2660979537161 * indata[u"Fingerprint_611"] + 21.6188636223801 * indata[u"Fingerprint_617"] + 40.5820892603988 * indata[u"Fingerprint_629"] + 20.6547123155413 * indata[u"Fingerprint_635"] + 1.69173600563421 * indata[u"Fingerprint_646"] + 6.71613122070636 * indata[u"Fingerprint_648"] + 29.1491124525349 * indata[u"Fingerprint_677"] + -11.9362250921803 * indata[u"Fingerprint_686"] + -36.0443525435364 * indata[u"Fingerprint_687"] + 46.2296472936846 * indata[u"Fingerprint_694"] + -27.2692865104462 * indata[u"Fingerprint_697"] + 1.09867111344688 * indata[u"Fingerprint_710"] + -30.2855276332517 * indata[u"Fingerprint_780"] + 15.5790113380795 * indata[u"Fingerprint_797"] + 41.9417821056716 * indata[u"Fingerprint_799"] + 22.3030418874381 * indata[u"Fingerprint_806"] + -31.5071227493139 * indata[u"Fingerprint_818"] + -74.514539817411 * indata[u"Fingerprint_819"] + -40.0880859758507 * indata[u"Fingerprint_821"] + 33.1167884423907 * indata[u"Fingerprint_826"] + -54.3337118591254 * indata[u"Fingerprint_828"] + -1.89646704552051 * indata[u"Fingerprint_834"] + -4.75525216969712 * indata[u"Fingerprint_835"] + -55.0059316825221 * indata[u"Fingerprint_860"] + 24.5256738616358 * indata[u"From_Sanger"] + 4.92742410797021 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    H1_5 = tanh((-12.1635634874498 + -0.526412194661462 * indata[u"EXP_CLK4"] + -0.986312146610131 * indata[u"EXP_PLK3"] + 0.0105184832166366 * indata[u"EXP_PLK3_X_EXP_PTEN"] + 6.76305075227355 * indata[u"EXP_PRKCG"] + 0.457083013293742 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + 3.20012769445614 * indata[u"EXP_SGK2"] + -0.752483154091761 * indata[u"EXP_STK10"] + -22.6354210036761 * indata[u"Fingerprint_611"] + 1.51683681808189 * indata[u"Fingerprint_617"] + -35.7805888000531 * indata[u"Fingerprint_629"] + 32.969043076603 * indata[u"Fingerprint_635"] + -23.4311992842762 * indata[u"Fingerprint_646"] + -10.5421524174568 * indata[u"Fingerprint_648"] + 8.89371142656546 * indata[u"Fingerprint_677"] + 25.8076618739299 * indata[u"Fingerprint_686"] + -29.2000685183941 * indata[u"Fingerprint_687"] + 1.52731163767459 * indata[u"Fingerprint_694"] + -19.379237914192 * indata[u"Fingerprint_697"] + -2.09398632246777 * indata[u"Fingerprint_710"] + -19.7350197767571 * indata[u"Fingerprint_780"] + -25.6564290082043 * indata[u"Fingerprint_797"] + -38.8690943906949 * indata[u"Fingerprint_799"] + 4.30654488643894 * indata[u"Fingerprint_806"] + 16.6315533496421 * indata[u"Fingerprint_818"] + 60.6923908125561 * indata[u"Fingerprint_819"] + -13.7703192225217 * indata[u"Fingerprint_821"] + 62.519890675484 * indata[u"Fingerprint_826"] + -10.5795216780684 * indata[u"Fingerprint_828"] + 32.6801289811118 * indata[u"Fingerprint_834"] + -25.8236950391342 * indata[u"Fingerprint_835"] + 2.00021181622177 * indata[u"Fingerprint_860"] + -0.267602589022398 * indata[u"From_Sanger"] + -0.655066431561741 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    H1_6 = tanh((-21.9644952312747 + -0.0220740087680898 * indata[u"EXP_CLK4"] + 0.0780244432113029 * indata[u"EXP_PLK3"] + 0.0171790970573464 * indata[u"EXP_PLK3_X_EXP_PTEN"] + -2.51613048855516 * indata[u"EXP_PRKCG"] + -0.00334083355359097 * indata[u"EXP_PRKCG_X_EXP_TRPV4"] + -0.245573152018323 * indata[u"EXP_SGK2"] + -0.0429943507386986 * indata[u"EXP_STK10"] + -7.72399326406051 * indata[u"Fingerprint_611"] + -7.45528655474749 * indata[u"Fingerprint_617"] + -9.62628210556865 * indata[u"Fingerprint_629"] + 0.966374377789634 * indata[u"Fingerprint_635"] + -8.68729626838878 * indata[u"Fingerprint_646"] + -3.75867603496165 * indata[u"Fingerprint_648"] + -14.1872147213015 * indata[u"Fingerprint_677"] + -15.9396513597973 * indata[u"Fingerprint_686"] + 7.35134276983461 * indata[u"Fingerprint_687"] + 1.99738986562673 * indata[u"Fingerprint_694"] + 8.88314522932122 * indata[u"Fingerprint_697"] + 44.2102742936639 * indata[u"Fingerprint_710"] + -0.171033044913259 * indata[u"Fingerprint_780"] + -8.90943207196951 * indata[u"Fingerprint_797"] + -0.5527503172539 * indata[u"Fingerprint_799"] + 0.213430054221833 * indata[u"Fingerprint_806"] + 7.55436267813497 * indata[u"Fingerprint_818"] + 17.17786393032 * indata[u"Fingerprint_819"] + 7.97710066933874 * indata[u"Fingerprint_821"] + 33.0499422520177 * indata[u"Fingerprint_826"] + 8.23750454346202 * indata[u"Fingerprint_828"] + -7.95613285986155 * indata[u"Fingerprint_834"] + 44.0674671687907 * indata[u"Fingerprint_835"] + 18.2680035869245 * indata[u"Fingerprint_860"] + 0.0754510859952045 * indata[u"From_Sanger"] + 0.0802739412081188 * indata[u"PWY_R_HSA_2682334_X_PWY_R_HSA_416476"]))

    outdata[u"Predicted IC50_1"] = 1.23549497664464 + 1.57218257156441 * H1_1 + -0.631717854095701 * H1_2 + -0.988571147745503 * H1_3 + 0.724230672119632 * H1_4 + -1.69011559616701 * H1_5 + 2.23125885625858 * H1_6

    return outdata[u"Predicted IC50_1"]


