from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"endometrium", "version": u"14.1.0", "timestamp": u"2020-09-16T17:44:31Z"}


def getInputMetadata():
    return {
        u"CLS_average_ploidy": "float",
        u"EXP_NEK6_X_EXP_TOP2A": "float",
        u"EXP_PIM2": "float",
        u"EXP_STK16_X_EXP_PEPD": "float",
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_629": "float",
        u"Fingerprint_635": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_677": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_704": "float",
        u"Fingerprint_712": "float",
        u"Fingerprint_776": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_813": "float",
        u"Fingerprint_819": "float",
        u"Fingerprint_822": "float",
        u"Fingerprint_834": "float",
        u"From_Sanger": "float",
        u"GO_0030878_EXP": "float",
        u"PKA_105_CSV_X_Fingerprint_826": "float",
        u"PKA_162_CSV_X_Fingerprint_644": "float",
        u"PKA_197_ENG_X_Fingerprint_818": "float",
        u"PKA_217_EXP_X_Fingerprint_818": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H2_1
    # H2_2
    # H2_3
    # H2_4
    # H2_5
    # H2_6
    # H2_7
    # H2_8
    # H2_9
    # H1_1
    # H1_2
    # H1_3

    H2_1 = tanh((-0.51437416074688 + -0.00415275018294782 * indata[u"CLS_average_ploidy"] + 0.00203540584359838 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.0748854016608636 * indata[u"EXP_PIM2"] + -0.00305540882932118 * indata[u"EXP_STK16_X_EXP_PEPD"] + 0.576056329134481 * indata[u"Fingerprint_611"] + 0.673724409642234 * indata[u"Fingerprint_617"] + -0.330314648536686 * indata[u"Fingerprint_629"] + -0.604042890287218 * indata[u"Fingerprint_635"] + -0.0720077757744923 * indata[u"Fingerprint_646"] + 0.741066264769103 * indata[u"Fingerprint_677"] + 0.271302561428338 * indata[u"Fingerprint_686"] + -0.847376725613923 * indata[u"Fingerprint_697"] + 0.173440873159566 * indata[u"Fingerprint_704"] + -1.02497160999821 * indata[u"Fingerprint_712"] + -0.155665878840351 * indata[u"Fingerprint_776"] + 0.867624063879714 * indata[u"Fingerprint_797"] + -0.269721212684885 * indata[u"Fingerprint_813"] + 0.169965852581232 * indata[u"Fingerprint_819"] + 0.190539202937131 * indata[u"Fingerprint_822"] + -1.4614006111106 * indata[u"Fingerprint_834"] + -0.412100329257973 * indata[u"From_Sanger"] + 0.00833822311420294 * indata[u"GO_0030878_EXP"] + -0.289508225315609 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + -0.564713776064999 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.0363949588572304 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + -0.00564135767697563 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_2 = tanh((-0.745405826163456 + 0.0155236137714377 * indata[u"CLS_average_ploidy"] + -0.00456071566703923 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + -0.05965995222481 * indata[u"EXP_PIM2"] + 0.0131854686712234 * indata[u"EXP_STK16_X_EXP_PEPD"] + -0.164004982349402 * indata[u"Fingerprint_611"] + 0.62279618174648 * indata[u"Fingerprint_617"] + 0.981138262125795 * indata[u"Fingerprint_629"] + 0.835081657456363 * indata[u"Fingerprint_635"] + -0.20861058234276 * indata[u"Fingerprint_646"] + 1.54932695337519 * indata[u"Fingerprint_677"] + -0.356540038694637 * indata[u"Fingerprint_686"] + -0.0539291774810349 * indata[u"Fingerprint_697"] + -1.68819886306259 * indata[u"Fingerprint_704"] + -1.55125582213006 * indata[u"Fingerprint_712"] + -0.109558451357884 * indata[u"Fingerprint_776"] + 0.465543015256791 * indata[u"Fingerprint_797"] + 2.16756147278606 * indata[u"Fingerprint_813"] + 0.115614885764992 * indata[u"Fingerprint_819"] + -0.0131059360564723 * indata[u"Fingerprint_822"] + -0.45976691964085 * indata[u"Fingerprint_834"] + 0.478034099378594 * indata[u"From_Sanger"] + 0.0280761953350857 * indata[u"GO_0030878_EXP"] + -2.34609238705747 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + -0.835205510865971 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.07251459711789 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + 0.425441065106784 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_3 = tanh((-1.22067046576622 + -0.0796670397595946 * indata[u"CLS_average_ploidy"] + 0.031658743736703 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.0564894793852052 * indata[u"EXP_PIM2"] + -0.0189087961077804 * indata[u"EXP_STK16_X_EXP_PEPD"] + 0.685294391476657 * indata[u"Fingerprint_611"] + -0.0436204327978357 * indata[u"Fingerprint_617"] + -0.453194722300369 * indata[u"Fingerprint_629"] + 0.159848022635071 * indata[u"Fingerprint_635"] + 0.392383665471193 * indata[u"Fingerprint_646"] + -0.14801827935174 * indata[u"Fingerprint_677"] + 1.31265201905429 * indata[u"Fingerprint_686"] + 0.245229543984343 * indata[u"Fingerprint_697"] + 1.00124760293479 * indata[u"Fingerprint_704"] + 0.140868941257608 * indata[u"Fingerprint_712"] + 0.881388806618495 * indata[u"Fingerprint_776"] + -0.403768547236484 * indata[u"Fingerprint_797"] + -1.50815385983372 * indata[u"Fingerprint_813"] + -0.440876204606514 * indata[u"Fingerprint_819"] + -1.14272827274446 * indata[u"Fingerprint_822"] + 0.350244894989753 * indata[u"Fingerprint_834"] + -1.52237611689008 * indata[u"From_Sanger"] + 0.0337403407313426 * indata[u"GO_0030878_EXP"] + 2.61849991150861 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + -0.469230266771939 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.156804809210951 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + -0.277079446851967 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_4 = tanh((-0.300734947213511 + 0.0342689964375 * indata[u"CLS_average_ploidy"] + 0.00969329126290878 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + -0.106805077593975 * indata[u"EXP_PIM2"] + -0.000381170203781965 * indata[u"EXP_STK16_X_EXP_PEPD"] + 1.53959597818705 * indata[u"Fingerprint_611"] + 0.239877889375849 * indata[u"Fingerprint_617"] + 3.07929661565214 * indata[u"Fingerprint_629"] + 0.461142591960863 * indata[u"Fingerprint_635"] + 0.569851706379695 * indata[u"Fingerprint_646"] + -0.998067948230058 * indata[u"Fingerprint_677"] + -0.513871846677868 * indata[u"Fingerprint_686"] + 0.829426064360657 * indata[u"Fingerprint_697"] + -0.117233520888109 * indata[u"Fingerprint_704"] + -0.623820215800205 * indata[u"Fingerprint_712"] + -0.38382181691846 * indata[u"Fingerprint_776"] + 0.77828598669356 * indata[u"Fingerprint_797"] + 0.131995075644813 * indata[u"Fingerprint_813"] + 0.310334050754602 * indata[u"Fingerprint_819"] + -0.101641758248837 * indata[u"Fingerprint_822"] + -0.499494631449569 * indata[u"Fingerprint_834"] + 0.24511743077476 * indata[u"From_Sanger"] + -0.00308625446050254 * indata[u"GO_0030878_EXP"] + -0.759802285974663 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + 1.8402625766505 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.0108830441493302 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + -0.107374934070847 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_5 = tanh((1.59834071176088 + 0.0224951244225451 * indata[u"CLS_average_ploidy"] + -0.040075984545115 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + -0.052089648026635 * indata[u"EXP_PIM2"] + 0.0291528765241635 * indata[u"EXP_STK16_X_EXP_PEPD"] + 0.319965827762197 * indata[u"Fingerprint_611"] + -0.5082383326758 * indata[u"Fingerprint_617"] + 0.305826977428198 * indata[u"Fingerprint_629"] + 0.301147539408514 * indata[u"Fingerprint_635"] + 0.0171592082961441 * indata[u"Fingerprint_646"] + -0.620592757559748 * indata[u"Fingerprint_677"] + 0.0363290214043264 * indata[u"Fingerprint_686"] + -0.675794572675179 * indata[u"Fingerprint_697"] + 0.35834002001751 * indata[u"Fingerprint_704"] + -0.04382838023574 * indata[u"Fingerprint_712"] + -1.02720834240886 * indata[u"Fingerprint_776"] + 0.698040333637948 * indata[u"Fingerprint_797"] + 0.775159130148109 * indata[u"Fingerprint_813"] + 0.0348654032325993 * indata[u"Fingerprint_819"] + 0.499830597848452 * indata[u"Fingerprint_822"] + 0.575437792598734 * indata[u"Fingerprint_834"] + 2.13425970717941 * indata[u"From_Sanger"] + -0.0152087466878458 * indata[u"GO_0030878_EXP"] + -0.942458282303873 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + 0.859388546291975 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + -0.11754261983898 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + 0.0127441499823543 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_6 = tanh((-1.04430413029888 + 0.0408166359415907 * indata[u"CLS_average_ploidy"] + -0.017828533326371 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.266442406441733 * indata[u"EXP_PIM2"] + 0.00220575338040512 * indata[u"EXP_STK16_X_EXP_PEPD"] + -0.543097843201064 * indata[u"Fingerprint_611"] + 0.614312542350572 * indata[u"Fingerprint_617"] + 0.558921215851893 * indata[u"Fingerprint_629"] + -0.362271099915463 * indata[u"Fingerprint_635"] + -0.136977650253843 * indata[u"Fingerprint_646"] + 0.42838912971959 * indata[u"Fingerprint_677"] + -0.350145211871085 * indata[u"Fingerprint_686"] + -0.381479873521819 * indata[u"Fingerprint_697"] + 0.472232989911287 * indata[u"Fingerprint_704"] + -0.089465812502169 * indata[u"Fingerprint_712"] + -0.226111189585768 * indata[u"Fingerprint_776"] + 0.622671207590599 * indata[u"Fingerprint_797"] + -0.990035355562711 * indata[u"Fingerprint_813"] + 0.580586842936069 * indata[u"Fingerprint_819"] + 0.953939151151907 * indata[u"Fingerprint_822"] + 0.0417415406090551 * indata[u"Fingerprint_834"] + 0.12767761177151 * indata[u"From_Sanger"] + -0.0350346515397801 * indata[u"GO_0030878_EXP"] + 1.093016090554 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + -0.409443480498161 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.00706037375171866 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + 0.290959658815054 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_7 = tanh((-2.04616905108778 + -0.139682126100281 * indata[u"CLS_average_ploidy"] + -0.00732541198936912 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.237125752907912 * indata[u"EXP_PIM2"] + -0.00731026598610173 * indata[u"EXP_STK16_X_EXP_PEPD"] + 0.522324132912047 * indata[u"Fingerprint_611"] + 1.9372613553314 * indata[u"Fingerprint_617"] + 2.47815225900342 * indata[u"Fingerprint_629"] + 1.80252717839477 * indata[u"Fingerprint_635"] + -0.0299547733662488 * indata[u"Fingerprint_646"] + -0.201543170345366 * indata[u"Fingerprint_677"] + -0.565020556908044 * indata[u"Fingerprint_686"] + -0.177618413846837 * indata[u"Fingerprint_697"] + 0.00148834783291847 * indata[u"Fingerprint_704"] + 1.0323641111483 * indata[u"Fingerprint_712"] + 0.78831952865877 * indata[u"Fingerprint_776"] + 0.775375818371793 * indata[u"Fingerprint_797"] + -0.0677327544672337 * indata[u"Fingerprint_813"] + -0.503115472840646 * indata[u"Fingerprint_819"] + -0.730910448739421 * indata[u"Fingerprint_822"] + 4.11520791161253 * indata[u"Fingerprint_834"] + 0.577887531703282 * indata[u"From_Sanger"] + -0.0212476022871798 * indata[u"GO_0030878_EXP"] + -0.258280942401653 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + 1.43877715058683 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.0893554646454817 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + 0.221653454880702 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_8 = tanh((0.204220545476474 + -0.0707554881265616 * indata[u"CLS_average_ploidy"] + -0.00472789174705823 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.0565590748708672 * indata[u"EXP_PIM2"] + 0.00429254180855752 * indata[u"EXP_STK16_X_EXP_PEPD"] + 0.408450802485658 * indata[u"Fingerprint_611"] + 0.308564698199845 * indata[u"Fingerprint_617"] + -1.34669605172708 * indata[u"Fingerprint_629"] + 1.13934002416732 * indata[u"Fingerprint_635"] + 0.396758869575817 * indata[u"Fingerprint_646"] + -0.369713124346492 * indata[u"Fingerprint_677"] + 2.01768228387439 * indata[u"Fingerprint_686"] + -1.94007739445065 * indata[u"Fingerprint_697"] + -0.3494178049344 * indata[u"Fingerprint_704"] + 0.82791780566299 * indata[u"Fingerprint_712"] + 1.74830787545115 * indata[u"Fingerprint_776"] + -0.342460336348041 * indata[u"Fingerprint_797"] + 0.754303392879697 * indata[u"Fingerprint_813"] + -0.0740240942026599 * indata[u"Fingerprint_819"] + 0.464125136463438 * indata[u"Fingerprint_822"] + 1.66874787954943 * indata[u"Fingerprint_834"] + 0.04224988172799 * indata[u"From_Sanger"] + -0.00501497291564249 * indata[u"GO_0030878_EXP"] + 0.302312896915899 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + 1.28550870763318 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + 0.629229600313943 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + -0.432390088960611 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H2_9 = tanh((-0.390730120267728 + -0.0223449668452259 * indata[u"CLS_average_ploidy"] + 0.00641753702605643 * indata[u"EXP_NEK6_X_EXP_TOP2A"] + 0.00831916465683472 * indata[u"EXP_PIM2"] + -0.00174928787639826 * indata[u"EXP_STK16_X_EXP_PEPD"] + 1.07148067733111 * indata[u"Fingerprint_611"] + -1.07228212651262 * indata[u"Fingerprint_617"] + 2.63145703512227 * indata[u"Fingerprint_629"] + -0.414124910852026 * indata[u"Fingerprint_635"] + 2.30933244400009 * indata[u"Fingerprint_646"] + -0.198399532917478 * indata[u"Fingerprint_677"] + -0.782157416756493 * indata[u"Fingerprint_686"] + 0.388127775554421 * indata[u"Fingerprint_697"] + -2.87201650656132 * indata[u"Fingerprint_704"] + -0.148755502925486 * indata[u"Fingerprint_712"] + 1.07902805577532 * indata[u"Fingerprint_776"] + 1.39213531447055 * indata[u"Fingerprint_797"] + 1.48322555656317 * indata[u"Fingerprint_813"] + 0.548997151135951 * indata[u"Fingerprint_819"] + 1.42922754314499 * indata[u"Fingerprint_822"] + -1.8331202932671 * indata[u"Fingerprint_834"] + -0.411131065080187 * indata[u"From_Sanger"] + -0.00404172550689749 * indata[u"GO_0030878_EXP"] + 0.777028333659033 * indata[u"PKA_105_CSV_X_Fingerprint_826"] + 2.95937246392715 * indata[u"PKA_162_CSV_X_Fingerprint_644"] + -0.0682341594800483 * indata[u"PKA_197_ENG_X_Fingerprint_818"] + -0.0676945521204621 * indata[u"PKA_217_EXP_X_Fingerprint_818"]))

    H1_1 = tanh((-0.114881910529229 + 0.0530125473639173 * H2_1 + 0.755529696929069 * H2_2 + -0.131447412865786 * H2_3 + 0.0256018267117182 * H2_4 + -1.18854604920429 * H2_5 + -0.207057313920528 * H2_6 + 0.601659240447063 * H2_7 + 1.13559989619607 * H2_8 + 0.084091594609347 * H2_9))

    H1_2 = tanh((-0.931082759141807 + 1.49710123137259 * H2_1 + -1.13995051324041 * H2_2 + -1.14928072261027 * H2_3 + -0.822192732918308 * H2_4 + -0.173288351968771 * H2_5 + -0.500636888822791 * H2_6 + 0.613155267919834 * H2_7 + -0.625908467523541 * H2_8 + 1.29502966660842 * H2_9))

    H1_3 = tanh((-0.260631992660872 + 0.313727630563389 * H2_1 + -0.044341778542796 * H2_2 + 0.523952073986621 * H2_3 + -0.505797840658804 * H2_4 + 0.778229546355291 * H2_5 + -0.469401270944763 * H2_6 + 0.293047622272821 * H2_7 + -0.569701629809284 * H2_8 + -0.0937321732345663 * H2_9))

    outdata[u"Predicted IC50_1"] = -1.45981084007702 + -2.37777982571129 * H1_1 + -5.46648545748041 * H1_2 + -5.83152537812839 * H1_3

    return outdata[u"Predicted IC50_1"]


