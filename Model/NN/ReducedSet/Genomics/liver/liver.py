from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"liver", "version": u"14.1.0", "timestamp": u"2020-09-21T12:43:08Z"}


def getInputMetadata():
    return {
        u"11:22624696": "float",
        u"11:57791644": "float",
        u"11:92355294": "float",
        u"12:57470364_X_Fingerprint_813": "float",
        u"14:32092355": "float",
        u"15:89320927_X_Fingerprint_813": "float",
        u"1:110339430": "float",
        u"1:114713908": "float",
        u"1:13780174": "float",
        u"1:154157688": "float",
        u"1:36473793": "float",
        u"1:7640390": "float",
        u"1:7738153": "float",
        u"22:41125854": "float",
        u"22:41125854_X_Fingerprint_644": "float",
        u"23:154353360": "float",
        u"2:106424618": "float",
        u"2:106433003": "float",
        u"2:108748934": "float",
        u"2:140233268": "float",
        u"2:25742766": "float",
        u"2:74371169": "float",
        u"3:14168338_X_Fingerprint_813": "float",
        u"3:185447956": "float",
        u"3:186786177": "float",
        u"3:195781645": "float",
        u"3:195784273": "float",
        u"3:195788793": "float",
        u"3:195790142": "float",
        u"3:41224585": "float",
        u"3:53770507": "float",
        u"4:86750763": "float",
        u"4:98420085": "float",
        u"6:106105439": "float",
        u"7:116699815": "float",
        u"7:124842833": "float",
        u"7:152152796": "float",
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_677": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_710": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_822": "float",
        u"Fingerprint_824": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6
    # H1_7

    H1_1 = tanh((1.804212340033 + -0.0711301853941701 * indata[u"1:110339430"] + -0.0267379477752153 * indata[u"1:114713908"] + 0.0132559461203283 * indata[u"1:13780174"] + -0.0512676050292752 * indata[u"1:154157688"] + -0.0842479676143525 * indata[u"1:36473793"] + 0.0160341944368735 * indata[u"1:7640390"] + -0.0798703575695881 * indata[u"1:7738153"] + -0.0365698395531524 * indata[u"11:22624696"] + -0.0164023240249238 * indata[u"11:57791644"] + -0.0963803706551337 * indata[u"11:92355294"] + 0.17609512280675 * indata[u"12:57470364_X_Fingerprint_813"] + -1.85080888087253 * indata[u"14:32092355"] + 0.206592429643444 * indata[u"15:89320927_X_Fingerprint_813"] + -0.0362012714259507 * indata[u"2:106424618"] + -0.160704381934656 * indata[u"2:106433003"] + -0.084081078047041 * indata[u"2:108748934"] + -0.0743622602275153 * indata[u"2:140233268"] + 0.0197626512509027 * indata[u"2:25742766"] + -0.0436112816087128 * indata[u"2:74371169"] + -0.248976291100412 * indata[u"22:41125854"] + -0.551069661201471 * indata[u"22:41125854_X_Fingerprint_644"] + -0.00504154507236136 * indata[u"23:154353360"] + 0.00338056811781107 * indata[u"3:14168338_X_Fingerprint_813"] + 0.0125382260769177 * indata[u"3:185447956"] + -0.0273710729142514 * indata[u"3:186786177"] + 0.0220220457124124 * indata[u"3:195781645"] + -0.0464821919586571 * indata[u"3:195784273"] + -0.0105144957747232 * indata[u"3:195788793"] + 0.00812596742098392 * indata[u"3:195790142"] + 2.43951266273675 * indata[u"3:41224585"] + -0.0562550588646717 * indata[u"3:53770507"] + -0.07763320345998 * indata[u"4:86750763"] + -0.0135204213496931 * indata[u"4:98420085"] + 0.00734282259868377 * indata[u"6:106105439"] + -0.596308840135096 * indata[u"7:116699815"] + -0.0109364519154344 * indata[u"7:124842833"] + 0.0199691692792881 * indata[u"7:152152796"] + -0.870259572210643 * indata[u"Fingerprint_611"] + -0.0615725017678047 * indata[u"Fingerprint_617"] + -0.0782389997981218 * indata[u"Fingerprint_646"] + -0.0110575843057075 * indata[u"Fingerprint_677"] + -0.0324028565066319 * indata[u"Fingerprint_686"] + -0.6588317370875 * indata[u"Fingerprint_697"] + -0.717743441094705 * indata[u"Fingerprint_710"] + -0.693258236061396 * indata[u"Fingerprint_797"] + -0.0781696562597177 * indata[u"Fingerprint_822"] + -0.542459476015601 * indata[u"Fingerprint_824"] + -0.404350141603274 * indata[u"From_Sanger"]))

    H1_2 = tanh((0.736505193851577 + 0.0101764760428564 * indata[u"1:110339430"] + -0.000210532874962736 * indata[u"1:114713908"] + -0.000556513121582114 * indata[u"1:13780174"] + -0.00729601286925458 * indata[u"1:154157688"] + -0.0191057714875197 * indata[u"1:36473793"] + -0.0157288996310783 * indata[u"1:7640390"] + -0.0390432098176449 * indata[u"1:7738153"] + -0.00746960291817391 * indata[u"11:22624696"] + -0.000212515363222333 * indata[u"11:57791644"] + -0.00221263358978787 * indata[u"11:92355294"] + 0.221401533725415 * indata[u"12:57470364_X_Fingerprint_813"] + -0.00311652222532337 * indata[u"14:32092355"] + 0.752034779257667 * indata[u"15:89320927_X_Fingerprint_813"] + -0.000992542222150179 * indata[u"2:106424618"] + -0.0256171690530471 * indata[u"2:106433003"] + -0.0410594269603078 * indata[u"2:108748934"] + -0.0290566228805083 * indata[u"2:140233268"] + -0.0381148041771071 * indata[u"2:25742766"] + -0.00337722663025095 * indata[u"2:74371169"] + -0.318712527017902 * indata[u"22:41125854"] + 0.17016059703244 * indata[u"22:41125854_X_Fingerprint_644"] + -0.0287849739063236 * indata[u"23:154353360"] + 0.00999415837318598 * indata[u"3:14168338_X_Fingerprint_813"] + -0.0475093943081018 * indata[u"3:185447956"] + -0.0488830805466943 * indata[u"3:186786177"] + 0.00726885047484803 * indata[u"3:195781645"] + -0.0226110244541281 * indata[u"3:195784273"] + -0.0277526230090121 * indata[u"3:195788793"] + -0.0172329600140834 * indata[u"3:195790142"] + -0.0024919507529512 * indata[u"3:41224585"] + -0.0282917957200227 * indata[u"3:53770507"] + -0.01520920739407 * indata[u"4:86750763"] + -0.0362643459180782 * indata[u"4:98420085"] + 0.00861918740413802 * indata[u"6:106105439"] + -0.0296001119260278 * indata[u"7:116699815"] + -0.0280108035028275 * indata[u"7:124842833"] + -0.022196782073128 * indata[u"7:152152796"] + -1.15914313684019 * indata[u"Fingerprint_611"] + -0.50277934839958 * indata[u"Fingerprint_617"] + 0.504931140607965 * indata[u"Fingerprint_646"] + 0.442963407350715 * indata[u"Fingerprint_677"] + 0.937429481675227 * indata[u"Fingerprint_686"] + -0.01527675960556 * indata[u"Fingerprint_697"] + 0.290256121728049 * indata[u"Fingerprint_710"] + -0.671030439617105 * indata[u"Fingerprint_797"] + -1.64394818888743 * indata[u"Fingerprint_822"] + -2.43995502593744 * indata[u"Fingerprint_824"] + -1.4307530421685 * indata[u"From_Sanger"]))

    H1_3 = tanh((-0.424298713064278 + 0.0449713050063606 * indata[u"1:110339430"] + -0.0830433631691811 * indata[u"1:114713908"] + -0.0757199621830602 * indata[u"1:13780174"] + 0.0207184456335087 * indata[u"1:154157688"] + -0.000950616395746472 * indata[u"1:36473793"] + 0.00126015038355382 * indata[u"1:7640390"] + 0.0308944946610546 * indata[u"1:7738153"] + 0.0111858321201571 * indata[u"11:22624696"] + -0.0617082256123554 * indata[u"11:57791644"] + -0.0185857181224801 * indata[u"11:92355294"] + 0.00204705489233744 * indata[u"12:57470364_X_Fingerprint_813"] + 0.0271065258057454 * indata[u"14:32092355"] + -0.34018720302279 * indata[u"15:89320927_X_Fingerprint_813"] + 0.00127634301957128 * indata[u"2:106424618"] + 0.0168056167364796 * indata[u"2:106433003"] + -0.0259315104642301 * indata[u"2:108748934"] + 0.0000306483745422953 * indata[u"2:140233268"] + 0.00558490048910339 * indata[u"2:25742766"] + 0.0141943626250434 * indata[u"2:74371169"] + -0.0258521713058691 * indata[u"22:41125854"] + 0.662704043388704 * indata[u"22:41125854_X_Fingerprint_644"] + -0.0621844120783772 * indata[u"23:154353360"] + 0.00123513208117824 * indata[u"3:14168338_X_Fingerprint_813"] + -0.0762413073531267 * indata[u"3:185447956"] + -0.00355266574739212 * indata[u"3:186786177"] + -0.014042673147996 * indata[u"3:195781645"] + 0.0819404848013861 * indata[u"3:195784273"] + -0.0172765563373944 * indata[u"3:195788793"] + -0.0431965624914975 * indata[u"3:195790142"] + 0.00802082468118585 * indata[u"3:41224585"] + 0.02602059391266 * indata[u"3:53770507"] + 0.0192589068365776 * indata[u"4:86750763"] + -0.00225673469708655 * indata[u"4:98420085"] + -0.00642765992298453 * indata[u"6:106105439"] + 0.0072109166932277 * indata[u"7:116699815"] + 0.00100341810053589 * indata[u"7:124842833"] + 0.0100882635521511 * indata[u"7:152152796"] + 0.0984967482124332 * indata[u"Fingerprint_611"] + 1.65330116911266 * indata[u"Fingerprint_617"] + 0.583254543393071 * indata[u"Fingerprint_646"] + 0.00531175844299758 * indata[u"Fingerprint_677"] + -0.410780786674348 * indata[u"Fingerprint_686"] + 0.608373962857628 * indata[u"Fingerprint_697"] + -0.597335060401345 * indata[u"Fingerprint_710"] + -0.642238669288161 * indata[u"Fingerprint_797"] + 2.88339470072716 * indata[u"Fingerprint_822"] + 0.666313161060135 * indata[u"Fingerprint_824"] + -1.04130370345882 * indata[u"From_Sanger"]))

    H1_4 = tanh((0.336395849098692 + 0.00543656795610127 * indata[u"1:110339430"] + 0.0572634951250695 * indata[u"1:114713908"] + -0.000744765686058514 * indata[u"1:13780174"] + 0.0185532809019586 * indata[u"1:154157688"] + 0.0254265910763764 * indata[u"1:36473793"] + 0.00652252291871746 * indata[u"1:7640390"] + 0.150799106115694 * indata[u"1:7738153"] + 0.0373538940895251 * indata[u"11:22624696"] + -0.000184491425560342 * indata[u"11:57791644"] + 0.0176221457500849 * indata[u"11:92355294"] + -0.516649417293106 * indata[u"12:57470364_X_Fingerprint_813"] + 0.00603827788427478 * indata[u"14:32092355"] + -0.464109218903017 * indata[u"15:89320927_X_Fingerprint_813"] + -0.0330759552669592 * indata[u"2:106424618"] + 0.0883975709620909 * indata[u"2:106433003"] + 0.00300357416533087 * indata[u"2:108748934"] + 0.0174907190296034 * indata[u"2:140233268"] + 0.0255523874109634 * indata[u"2:25742766"] + 0.0126558145804963 * indata[u"2:74371169"] + 0.0681022265973228 * indata[u"22:41125854"] + -0.0572280963611977 * indata[u"22:41125854_X_Fingerprint_644"] + 0.00060076925528718 * indata[u"23:154353360"] + -1.21402424744382 * indata[u"3:14168338_X_Fingerprint_813"] + 0.0209933695665837 * indata[u"3:185447956"] + -0.0146511442958237 * indata[u"3:186786177"] + 0.000453023523013647 * indata[u"3:195781645"] + -0.00261439843000694 * indata[u"3:195784273"] + 0.00366889350617264 * indata[u"3:195788793"] + 0.0437389962036667 * indata[u"3:195790142"] + 0.0472500038547253 * indata[u"3:41224585"] + -0.000765430796143376 * indata[u"3:53770507"] + 0.0241860877823106 * indata[u"4:86750763"] + 0.00742020769170652 * indata[u"4:98420085"] + 0.000946274292128876 * indata[u"6:106105439"] + -0.000324501267948189 * indata[u"7:116699815"] + 0.00574476233186465 * indata[u"7:124842833"] + 0.0160820180503315 * indata[u"7:152152796"] + -0.60651331267214 * indata[u"Fingerprint_611"] + -1.9064521220011 * indata[u"Fingerprint_617"] + -0.654342439586058 * indata[u"Fingerprint_646"] + 0.436257870190122 * indata[u"Fingerprint_677"] + 1.33831046004771 * indata[u"Fingerprint_686"] + -0.651009545538166 * indata[u"Fingerprint_697"] + 1.00921720878933 * indata[u"Fingerprint_710"] + -0.15342561914908 * indata[u"Fingerprint_797"] + -0.482070839828634 * indata[u"Fingerprint_822"] + 0.784159865690109 * indata[u"Fingerprint_824"] + -0.29738276174584 * indata[u"From_Sanger"]))

    H1_5 = tanh((1.67524960063656 + 0.0257356542771632 * indata[u"1:110339430"] + 0.0559189624688686 * indata[u"1:114713908"] + 0.0151146879936374 * indata[u"1:13780174"] + -0.112904035298427 * indata[u"1:154157688"] + -0.00814509208548979 * indata[u"1:36473793"] + 0.0457092552832225 * indata[u"1:7640390"] + 0.000622538658753955 * indata[u"1:7738153"] + -0.00595879679541968 * indata[u"11:22624696"] + 0.040198042900642 * indata[u"11:57791644"] + -0.0878333966295591 * indata[u"11:92355294"] + 0.325285606201621 * indata[u"12:57470364_X_Fingerprint_813"] + -0.0103183978597125 * indata[u"14:32092355"] + 0.492243765942629 * indata[u"15:89320927_X_Fingerprint_813"] + 0.000088810627494352 * indata[u"2:106424618"] + 0.00274289997473633 * indata[u"2:106433003"] + -1.73410504434589 * indata[u"2:108748934"] + -0.0194933171497547 * indata[u"2:140233268"] + 0.164055812126014 * indata[u"2:25742766"] + 0.0397398244954244 * indata[u"2:74371169"] + 0.0148175729280537 * indata[u"22:41125854"] + -0.899392388602912 * indata[u"22:41125854_X_Fingerprint_644"] + 0.0583535372304486 * indata[u"23:154353360"] + 0.813813215340514 * indata[u"3:14168338_X_Fingerprint_813"] + 0.0127764556280413 * indata[u"3:185447956"] + -0.206820814334459 * indata[u"3:186786177"] + 0.151582157742273 * indata[u"3:195781645"] + -1.06223102635431 * indata[u"3:195784273"] + -0.0263048945764516 * indata[u"3:195788793"] + 0.00891363801852613 * indata[u"3:195790142"] + 0.131833121061368 * indata[u"3:41224585"] + -0.0176683431734833 * indata[u"3:53770507"] + -0.879557692804651 * indata[u"4:86750763"] + -0.0000209286289171476 * indata[u"4:98420085"] + 0.0349414563661373 * indata[u"6:106105439"] + 0.0598941718195463 * indata[u"7:116699815"] + -0.0041726582301019 * indata[u"7:124842833"] + 0.0488911555824705 * indata[u"7:152152796"] + -0.964862020498536 * indata[u"Fingerprint_611"] + -0.136295087775427 * indata[u"Fingerprint_617"] + -0.0593576894873709 * indata[u"Fingerprint_646"] + -0.0856680967515427 * indata[u"Fingerprint_677"] + -0.346078004485863 * indata[u"Fingerprint_686"] + -0.304786505458057 * indata[u"Fingerprint_697"] + -0.391540773670324 * indata[u"Fingerprint_710"] + -0.681787280350374 * indata[u"Fingerprint_797"] + 0.0506995115520206 * indata[u"Fingerprint_822"] + -0.358867860830938 * indata[u"Fingerprint_824"] + 0.308703337121193 * indata[u"From_Sanger"]))

    H1_6 = tanh((0.193140000425706 + 0.0197138636579137 * indata[u"1:110339430"] + 0.0345884973871425 * indata[u"1:114713908"] + -0.00042421206089595 * indata[u"1:13780174"] + 0.423699424806113 * indata[u"1:154157688"] + 0.0431980897911838 * indata[u"1:36473793"] + 0.00434026994340197 * indata[u"1:7640390"] + 0.0069452561156046 * indata[u"1:7738153"] + 0.0107167760211551 * indata[u"11:22624696"] + -0.000323913317879844 * indata[u"11:57791644"] + 0.369755970568434 * indata[u"11:92355294"] + 1.80398385146181 * indata[u"12:57470364_X_Fingerprint_813"] + 0.0246073140431595 * indata[u"14:32092355"] + -1.32689519267744 * indata[u"15:89320927_X_Fingerprint_813"] + 0.00705843546304261 * indata[u"2:106424618"] + 0.0919622561908214 * indata[u"2:106433003"] + 0.0258930374342579 * indata[u"2:108748934"] + 0.000394265131971331 * indata[u"2:140233268"] + 0.0220924054900375 * indata[u"2:25742766"] + 0.0596939993352353 * indata[u"2:74371169"] + -0.237911217402079 * indata[u"22:41125854"] + 0.195473304232609 * indata[u"22:41125854_X_Fingerprint_644"] + 1.26352018273524 * indata[u"23:154353360"] + -0.0013262785319886 * indata[u"3:14168338_X_Fingerprint_813"] + 0.0183781912904471 * indata[u"3:185447956"] + 0.0821188969093711 * indata[u"3:186786177"] + 0.00324376408096641 * indata[u"3:195781645"] + 0.046429269439113 * indata[u"3:195784273"] + 0.0466842984656288 * indata[u"3:195788793"] + 0.0206554659723436 * indata[u"3:195790142"] + -0.000195740807932558 * indata[u"3:41224585"] + 0.171292928112507 * indata[u"3:53770507"] + 0.0429834467093066 * indata[u"4:86750763"] + 0.00499483048117114 * indata[u"4:98420085"] + 0.0216882948159134 * indata[u"6:106105439"] + 0.00359194918835876 * indata[u"7:116699815"] + 0.0246270975255645 * indata[u"7:124842833"] + 0.368276551280822 * indata[u"7:152152796"] + -0.0422991182035105 * indata[u"Fingerprint_611"] + -0.0839136558811103 * indata[u"Fingerprint_617"] + -0.238376277442795 * indata[u"Fingerprint_646"] + -0.0724750825434639 * indata[u"Fingerprint_677"] + 0.110829678590244 * indata[u"Fingerprint_686"] + -0.808524855097922 * indata[u"Fingerprint_697"] + 0.0822852365618629 * indata[u"Fingerprint_710"] + -0.000728405938077017 * indata[u"Fingerprint_797"] + 0.0462818988269777 * indata[u"Fingerprint_822"] + -0.553285057836682 * indata[u"Fingerprint_824"] + 0.0266970198146729 * indata[u"From_Sanger"]))

    H1_7 = tanh((-0.48031232930961 + -0.0315712600362731 * indata[u"1:110339430"] + 0.0172018143374441 * indata[u"1:114713908"] + -0.00757746659599808 * indata[u"1:13780174"] + -0.00404922087902959 * indata[u"1:154157688"] + -0.0496476507302155 * indata[u"1:36473793"] + 0.0847723522944395 * indata[u"1:7640390"] + 0.00219890384867544 * indata[u"1:7738153"] + -0.0394912403354116 * indata[u"11:22624696"] + -0.000671993729279878 * indata[u"11:57791644"] + -0.0683412913160347 * indata[u"11:92355294"] + 0.0909725123660978 * indata[u"12:57470364_X_Fingerprint_813"] + -0.00529614966896921 * indata[u"14:32092355"] + -0.0140002420335908 * indata[u"15:89320927_X_Fingerprint_813"] + 0.0331255066767798 * indata[u"2:106424618"] + 0.00536657948334569 * indata[u"2:106433003"] + -0.00213653388843353 * indata[u"2:108748934"] + 0.0949568162082754 * indata[u"2:140233268"] + 0.0100290237469756 * indata[u"2:25742766"] + -0.000426395794246045 * indata[u"2:74371169"] + -0.012192128588318 * indata[u"22:41125854"] + 0.80775546784035 * indata[u"22:41125854_X_Fingerprint_644"] + -0.0126700472204438 * indata[u"23:154353360"] + 0.16915933201882 * indata[u"3:14168338_X_Fingerprint_813"] + 0.00421110514542982 * indata[u"3:185447956"] + -0.0259327010813276 * indata[u"3:186786177"] + 0.00773209519983019 * indata[u"3:195781645"] + 0.000493021691080594 * indata[u"3:195784273"] + -0.0815282454125043 * indata[u"3:195788793"] + -0.00655158040639344 * indata[u"3:195790142"] + -0.0000224979558188486 * indata[u"3:41224585"] + -0.0333771613938211 * indata[u"3:53770507"] + -0.0207615049570861 * indata[u"4:86750763"] + -0.000521482843616557 * indata[u"4:98420085"] + 0.0335883295003461 * indata[u"6:106105439"] + 0.00635018618185302 * indata[u"7:116699815"] + -0.00808410045084643 * indata[u"7:124842833"] + 0.0238860892859314 * indata[u"7:152152796"] + -0.643006726641865 * indata[u"Fingerprint_611"] + -0.145490054382505 * indata[u"Fingerprint_617"] + 0.0453630594013627 * indata[u"Fingerprint_646"] + 0.646575246176224 * indata[u"Fingerprint_677"] + 0.136884200875941 * indata[u"Fingerprint_686"] + -0.506600790559317 * indata[u"Fingerprint_697"] + 0.41221631515205 * indata[u"Fingerprint_710"] + -0.413309465861447 * indata[u"Fingerprint_797"] + 0.867144621008342 * indata[u"Fingerprint_822"] + -0.217736985728785 * indata[u"Fingerprint_824"] + -0.431812475669902 * indata[u"From_Sanger"]))

    outdata[u"Predicted IC50_1"] = 1.31330090303034 + -3.64970865058808 * H1_1 + 1.867022234419 * H1_2 + 3.78640221235219 * H1_3 + 3.53505036791949 * H1_4 + 3.95670804585401 * H1_5 + 3.31448653446241 * H1_6 + -3.6945212206423 * H1_7

    return outdata[u"Predicted IC50_1"]


