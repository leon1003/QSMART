from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"thyroid", "version": u"14.1.0", "timestamp": u"2020-09-19T18:47:14Z"}


def getInputMetadata():
    return {
        u"11:3038130_X_Fingerprint_629": "float",
        u"1:110342196": "float",
        u"1:117623139": "float",
        u"1:13782529": "float",
        u"1:148965583": "float",
        u"1:156879328": "float",
        u"1:3385184": "float",
        u"1:7663693": "float",
        u"2:222941596": "float",
        u"2:24039403": "float",
        u"2:24691522": "float",
        u"2:45008573": "float",
        u"2:47801118": "float",
        u"3:121519991": "float",
        u"3:142467931": "float",
        u"3:195780261": "float",
        u"3:195781048": "float",
        u"3:195783328": "float",
        u"3:32953847": "float",
        u"3:52558308": "float",
        u"4:125318733": "float",
        u"4:125320729": "float",
        u"4:55114235": "float",
        u"5:35871159": "float",
        u"5:55963494": "float",
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_710": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_818": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6

    H1_1 = tanh((-0.0286398692018187 + 0.000612268321325959 * indata[u"1:110342196"] + 0.000726932323640296 * indata[u"1:117623139"] + 0.0000650375988112483 * indata[u"1:13782529"] + -0.00115530632042178 * indata[u"1:148965583"] + -0.000245545939347254 * indata[u"1:156879328"] + -0.00388349683304005 * indata[u"1:3385184"] + -0.000697398519735307 * indata[u"1:7663693"] + -0.000016645063671882 * indata[u"11:3038130_X_Fingerprint_629"] + -0.000309552408536731 * indata[u"2:222941596"] + -0.00105263881229781 * indata[u"2:24039403"] + -0.000873995542015025 * indata[u"2:24691522"] + -0.000750149778638899 * indata[u"2:45008573"] + -0.000456865435140652 * indata[u"2:47801118"] + 0.000276118180254247 * indata[u"3:121519991"] + -0.000493413426057349 * indata[u"3:142467931"] + -0.00069563836439494 * indata[u"3:195780261"] + -0.000380516451584373 * indata[u"3:195781048"] + -0.000481569586198263 * indata[u"3:195783328"] + -0.0000104628495986969 * indata[u"3:32953847"] + -0.0000538935451844339 * indata[u"3:52558308"] + -0.000464305824962674 * indata[u"4:125318733"] + -0.00164459051706224 * indata[u"4:125320729"] + 0.000293743741950775 * indata[u"4:55114235"] + -0.00013410528151923 * indata[u"5:35871159"] + 0.0000379497468686667 * indata[u"5:55963494"] + -0.134705327858548 * indata[u"Fingerprint_611"] + -0.255893662872595 * indata[u"Fingerprint_617"] + -0.116731180667735 * indata[u"Fingerprint_646"] + 0.258385984587504 * indata[u"Fingerprint_686"] + 0.259654626838338 * indata[u"Fingerprint_710"] + -0.00520154444797929 * indata[u"Fingerprint_797"] + -0.0127763291423383 * indata[u"Fingerprint_818"] + -0.0262666860370519 * indata[u"From_Sanger"]))

    H1_2 = tanh((-0.197619574057105 + 0.000178780291085163 * indata[u"1:110342196"] + 0.000602498972687439 * indata[u"1:117623139"] + 0.000442275119779588 * indata[u"1:13782529"] + -0.00311037732070765 * indata[u"1:148965583"] + 0.00226959116384349 * indata[u"1:156879328"] + 0.000930684314990141 * indata[u"1:3385184"] + -0.00233000580188958 * indata[u"1:7663693"] + 0.165313188407829 * indata[u"11:3038130_X_Fingerprint_629"] + 0.00909362773227432 * indata[u"2:222941596"] + -0.000959577577413868 * indata[u"2:24039403"] + 0.00477093489678026 * indata[u"2:24691522"] + 0.0134414439259597 * indata[u"2:45008573"] + 0.000286010800926514 * indata[u"2:47801118"] + 0.00104137909876786 * indata[u"3:121519991"] + 0.00372583497687393 * indata[u"3:142467931"] + -0.00067092403146052 * indata[u"3:195780261"] + 0.00158072042154092 * indata[u"3:195781048"] + -0.00053088806425643 * indata[u"3:195783328"] + 0.00232750739754575 * indata[u"3:32953847"] + -0.0019430700849913 * indata[u"3:52558308"] + -0.000831323335298041 * indata[u"4:125318733"] + -0.000230264706250656 * indata[u"4:125320729"] + 0.000439526939252874 * indata[u"4:55114235"] + 0.000372323004349383 * indata[u"5:35871159"] + 0.00117836719774326 * indata[u"5:55963494"] + 0.0791066813391825 * indata[u"Fingerprint_611"] + -0.155045075978031 * indata[u"Fingerprint_617"] + 0.108289580208005 * indata[u"Fingerprint_646"] + 0.0313695208035729 * indata[u"Fingerprint_686"] + 0.235598447536456 * indata[u"Fingerprint_710"] + 0.0614154647815393 * indata[u"Fingerprint_797"] + 0.0864896888051724 * indata[u"Fingerprint_818"] + -0.206652167070251 * indata[u"From_Sanger"]))

    H1_3 = tanh((-0.0787085723250839 + 0.000806664878737076 * indata[u"1:110342196"] + 0.000289721516487286 * indata[u"1:117623139"] + 0.000985499524513284 * indata[u"1:13782529"] + -0.00119714523025444 * indata[u"1:148965583"] + 0.00052430327524841 * indata[u"1:156879328"] + -0.000247123940734236 * indata[u"1:3385184"] + -0.00252881961385306 * indata[u"1:7663693"] + 0.0151261756691889 * indata[u"11:3038130_X_Fingerprint_629"] + 0.00838205610783046 * indata[u"2:222941596"] + -0.000613280117500745 * indata[u"2:24039403"] + 0.000654573104424015 * indata[u"2:24691522"] + -0.000501465869652357 * indata[u"2:45008573"] + 0.00169306490538563 * indata[u"2:47801118"] + 0.00108592955579549 * indata[u"3:121519991"] + 0.00167236990694417 * indata[u"3:142467931"] + -0.00591698848086179 * indata[u"3:195780261"] + 0.00339769691466568 * indata[u"3:195781048"] + 0.0000244426495738194 * indata[u"3:195783328"] + 0.00131349197982333 * indata[u"3:32953847"] + -0.0011619999943795 * indata[u"3:52558308"] + -0.0000826514093962256 * indata[u"4:125318733"] + 0.00263167285557107 * indata[u"4:125320729"] + -0.0000470989858469838 * indata[u"4:55114235"] + 0.00119309046594349 * indata[u"5:35871159"] + -0.000279170949511964 * indata[u"5:55963494"] + -0.137230457437098 * indata[u"Fingerprint_611"] + -0.00139768831880512 * indata[u"Fingerprint_617"] + -0.0710114887769901 * indata[u"Fingerprint_646"] + -0.00083122179217836 * indata[u"Fingerprint_686"] + 0.131646416252121 * indata[u"Fingerprint_710"] + -0.313328296153676 * indata[u"Fingerprint_797"] + -0.017465502008369 * indata[u"Fingerprint_818"] + 0.0801400022262211 * indata[u"From_Sanger"]))

    H1_4 = tanh((-0.0558943849411968 + -0.000227872339094604 * indata[u"1:110342196"] + 0.00234157204726272 * indata[u"1:117623139"] + 0.000319998355271655 * indata[u"1:13782529"] + 0.000167659512200991 * indata[u"1:148965583"] + 0.00540576692558031 * indata[u"1:156879328"] + 0.000762956791543594 * indata[u"1:3385184"] + 0.00196282179659504 * indata[u"1:7663693"] + 0.294043316269777 * indata[u"11:3038130_X_Fingerprint_629"] + 0.00502965922367637 * indata[u"2:222941596"] + -0.00023985125381561 * indata[u"2:24039403"] + 0.000647299708671829 * indata[u"2:24691522"] + 0.00105637550668875 * indata[u"2:45008573"] + 0.000144372922735585 * indata[u"2:47801118"] + 0.0007295343719332 * indata[u"3:121519991"] + -0.000662067827823646 * indata[u"3:142467931"] + 0.000266462571414502 * indata[u"3:195780261"] + -0.00107467683712434 * indata[u"3:195781048"] + -0.000162789383357222 * indata[u"3:195783328"] + 0.00383998167111706 * indata[u"3:32953847"] + 0.000452499688936517 * indata[u"3:52558308"] + 0.00157948386263622 * indata[u"4:125318733"] + 0.000195568453255517 * indata[u"4:125320729"] + 0.00381998617536182 * indata[u"4:55114235"] + 0.00173032391388701 * indata[u"5:35871159"] + 0.00392339513476316 * indata[u"5:55963494"] + -0.028934441544914 * indata[u"Fingerprint_611"] + 0.13367809334001 * indata[u"Fingerprint_617"] + 0.155998912053048 * indata[u"Fingerprint_646"] + -0.291599914612782 * indata[u"Fingerprint_686"] + -0.0232590878417924 * indata[u"Fingerprint_710"] + -0.0204491924707118 * indata[u"Fingerprint_797"] + -0.0383375443265299 * indata[u"Fingerprint_818"] + -0.0944888507349528 * indata[u"From_Sanger"]))

    H1_5 = tanh((-0.0215002108270592 + 0.00109132643550523 * indata[u"1:110342196"] + 0.00176387849848039 * indata[u"1:117623139"] + 0.00673612095214328 * indata[u"1:13782529"] + -0.0000701947371841358 * indata[u"1:148965583"] + 0.0344262838266921 * indata[u"1:156879328"] + 0.12208892482209 * indata[u"1:3385184"] + -0.00105716114151326 * indata[u"1:7663693"] + -0.00219219874324656 * indata[u"11:3038130_X_Fingerprint_629"] + 0.000179270227819629 * indata[u"2:222941596"] + -0.000559530780518505 * indata[u"2:24039403"] + 0.0074675698505047 * indata[u"2:24691522"] + 0.00119870709993668 * indata[u"2:45008573"] + 0.000952849193858476 * indata[u"2:47801118"] + 0.00275872167573313 * indata[u"3:121519991"] + 0.00176595741849726 * indata[u"3:142467931"] + -0.00109576117591896 * indata[u"3:195780261"] + -0.000920168046323671 * indata[u"3:195781048"] + 0.00038074852781885 * indata[u"3:195783328"] + 0.00881521405327515 * indata[u"3:32953847"] + -0.00139944024970677 * indata[u"3:52558308"] + -0.000997255744591749 * indata[u"4:125318733"] + 0.00230364480977051 * indata[u"4:125320729"] + 0.000343507740523022 * indata[u"4:55114235"] + 0.00469505696724356 * indata[u"5:35871159"] + 0.00300323710146194 * indata[u"5:55963494"] + 0.0002728838293418 * indata[u"Fingerprint_611"] + 0.000410316058507167 * indata[u"Fingerprint_617"] + -0.000573709928414196 * indata[u"Fingerprint_646"] + 0.000945433424532012 * indata[u"Fingerprint_686"] + -0.00109753403982711 * indata[u"Fingerprint_710"] + 0.0000018956426536033 * indata[u"Fingerprint_797"] + 0.00728565228337375 * indata[u"Fingerprint_818"] + 0.0194094387056621 * indata[u"From_Sanger"]))

    H1_6 = tanh((0.0161380801048138 + -0.000939242530591484 * indata[u"1:110342196"] + 0.0000650321524707737 * indata[u"1:117623139"] + 0.000631363984467691 * indata[u"1:13782529"] + -0.000867520113280199 * indata[u"1:148965583"] + 0.00872514539624493 * indata[u"1:156879328"] + 0.000146757159677368 * indata[u"1:3385184"] + 0.0021306435255042 * indata[u"1:7663693"] + 0.270178648134103 * indata[u"11:3038130_X_Fingerprint_629"] + 0.000370817682708915 * indata[u"2:222941596"] + 0.00901503834960938 * indata[u"2:24039403"] + 0.000464776395001408 * indata[u"2:24691522"] + -0.00124695316767384 * indata[u"2:45008573"] + -0.000135826444214172 * indata[u"2:47801118"] + 0.00005666914181458 * indata[u"3:121519991"] + 0.000136226150846397 * indata[u"3:142467931"] + 0.00136149480322211 * indata[u"3:195780261"] + -0.000452213179143106 * indata[u"3:195781048"] + 0.00316139819513669 * indata[u"3:195783328"] + 0.00640832288631155 * indata[u"3:32953847"] + 0.000406177164376167 * indata[u"3:52558308"] + 0.000718005835910417 * indata[u"4:125318733"] + 0.000283360629242109 * indata[u"4:125320729"] + -0.00111461691669905 * indata[u"4:55114235"] + 0.00346103646699062 * indata[u"5:35871159"] + -0.000383969039546246 * indata[u"5:55963494"] + -0.248401334694299 * indata[u"Fingerprint_611"] + -0.0159389045890711 * indata[u"Fingerprint_617"] + -0.0116275600803506 * indata[u"Fingerprint_646"] + -0.0816028347082036 * indata[u"Fingerprint_686"] + 0.0014406489635698 * indata[u"Fingerprint_710"] + 0.129968683008484 * indata[u"Fingerprint_797"] + -0.167760933783213 * indata[u"Fingerprint_818"] + -0.000262092773701212 * indata[u"From_Sanger"]))

    outdata[u"Predicted IC50_1"] = -47.332375614749 + 612.057024259253 * H1_1 + -443.746390149625 * H1_2 + -295.034029087328 * H1_3 + 596.956711335116 * H1_4 + 113.775487542295 * H1_5 + -376.776513995262 * H1_6

    return outdata[u"Predicted IC50_1"]


