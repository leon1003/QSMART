from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"cervix", "version": u"14.1.0", "timestamp": u"2020-09-20T01:12:14Z"}


def getInputMetadata():
    return {
        u"1:11139295": "float",
        u"1:116392885": "float",
        u"1:149017744": "float",
        u"1:149024614": "float",
        u"1:156126805": "float",
        u"1:18691920": "float",
        u"1:198750544": "float",
        u"1:204546811": "float",
        u"1:6197725": "float",
        u"1:77978972": "float",
        u"2:108775741": "float",
        u"2:113220141": "float",
        u"2:201266688": "float",
        u"2:208243498": "float",
        u"2:32392083": "float",
        u"2:47416383": "float",
        u"3:179218303": "float",
        u"3:185480239": "float",
        u"3:195779881": "float",
        u"3:195783979": "float",
        u"3:195784237": "float",
        u"3:195786099": "float",
        u"3:195789118": "float",
        u"3:41233559": "float",
        u"3:47042593": "float",
        u"3:47120775": "float",
        u"4:125491667": "float",
        u"4:152328232": "float",
        u"4:41746273": "float",
        u"4:86701750": "float",
        u"4:86785861": "float",
        u"4:87115150": "float",
        u"5:180621797": "float",
        u"7:102201668": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_821": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6
    # H1_7

    H1_1 = tanh((-0.145421335631314 + 0.000860474389568952 * indata[u"1:11139295"] + -0.00132941435080384 * indata[u"1:116392885"] + 0.000427606028809876 * indata[u"1:149017744"] + 0.00334725173926895 * indata[u"1:149024614"] + 0.00447173631685402 * indata[u"1:156126805"] + 0.0011715202831608 * indata[u"1:18691920"] + -0.00131050915608047 * indata[u"1:198750544"] + -0.000262898888858859 * indata[u"1:204546811"] + 0.00555115386181057 * indata[u"1:6197725"] + -0.179089631939816 * indata[u"1:77978972"] + 0.570901172866431 * indata[u"2:108775741"] + 0.00446237953672712 * indata[u"2:113220141"] + -0.0253634950948287 * indata[u"2:201266688"] + -0.000828770415483974 * indata[u"2:208243498"] + -0.0172166045474293 * indata[u"2:32392083"] + -0.000606242487637739 * indata[u"2:47416383"] + -0.00372185982998699 * indata[u"3:179218303"] + -0.00117175556106396 * indata[u"3:185480239"] + -0.0426042471653347 * indata[u"3:195779881"] + -0.010609555314525 * indata[u"3:195783979"] + -0.00119769692641284 * indata[u"3:195784237"] + 0.00232401601510807 * indata[u"3:195786099"] + 0.0000737824238287259 * indata[u"3:195789118"] + -0.0000480332039801535 * indata[u"3:41233559"] + 0.000794515656444803 * indata[u"3:47042593"] + -0.00131828669051427 * indata[u"3:47120775"] + 0.000158245230726047 * indata[u"4:125491667"] + 0.000720702477572457 * indata[u"4:152328232"] + 0.292323232351891 * indata[u"4:41746273"] + -0.000444801486484213 * indata[u"4:86701750"] + -0.226472344456224 * indata[u"4:86785861"] + 1.48854902162601 * indata[u"4:87115150"] + 0.000170750700206916 * indata[u"5:180621797"] + 0.000962529123437104 * indata[u"7:102201668"] + -0.077657810681329 * indata[u"Fingerprint_797"] + -0.0364550539831046 * indata[u"Fingerprint_821"] + -0.00123584978662817 * indata[u"From_Sanger"]))

    H1_2 = tanh((-0.428941807509944 + -0.00255760775282769 * indata[u"1:11139295"] + 1.22042588206936 * indata[u"1:116392885"] + 0.00169957712170619 * indata[u"1:149017744"] + -0.10183343792684 * indata[u"1:149024614"] + 0.00114121365804512 * indata[u"1:156126805"] + 0.00114134706819296 * indata[u"1:18691920"] + -0.139669263414597 * indata[u"1:198750544"] + 1.17369623465783 * indata[u"1:204546811"] + -0.00174168646567981 * indata[u"1:6197725"] + 0.276752692667686 * indata[u"1:77978972"] + -0.11055007595907 * indata[u"2:108775741"] + 0.170791799803119 * indata[u"2:113220141"] + -0.0477049452354399 * indata[u"2:201266688"] + 0.151780440730975 * indata[u"2:208243498"] + 0.00478350667411927 * indata[u"2:32392083"] + 0.155643688404885 * indata[u"2:47416383"] + -0.020816626392243 * indata[u"3:179218303"] + 0.00120922030173053 * indata[u"3:185480239"] + -0.00113392362933691 * indata[u"3:195779881"] + -0.00166948044510991 * indata[u"3:195783979"] + -0.00281348195034056 * indata[u"3:195784237"] + 0.95432784369236 * indata[u"3:195786099"] + 0.00115249681205464 * indata[u"3:195789118"] + 0.155610410231286 * indata[u"3:41233559"] + -0.00413663407758136 * indata[u"3:47042593"] + -0.00219762318513468 * indata[u"3:47120775"] + -0.00148380577296936 * indata[u"4:125491667"] + 0.000941176314391461 * indata[u"4:152328232"] + -0.15385761993401 * indata[u"4:41746273"] + 0.214190728364131 * indata[u"4:86701750"] + 0.140594574444325 * indata[u"4:86785861"] + 1.28815060528669 * indata[u"4:87115150"] + 0.000958376928257792 * indata[u"5:180621797"] + 0.00607232598905253 * indata[u"7:102201668"] + -0.0956702630827263 * indata[u"Fingerprint_797"] + 0.223073198699711 * indata[u"Fingerprint_821"] + -0.470577078965793 * indata[u"From_Sanger"]))

    H1_3 = tanh((1.06717420128523 + 0.00786377451427315 * indata[u"1:11139295"] + -0.998581547166082 * indata[u"1:116392885"] + 0.777832837696002 * indata[u"1:149017744"] + -0.0267670412973799 * indata[u"1:149024614"] + -0.353139512498998 * indata[u"1:156126805"] + -0.00371070568736034 * indata[u"1:18691920"] + 0.00174073361894802 * indata[u"1:198750544"] + -0.00231393027486058 * indata[u"1:204546811"] + -0.0021439833671436 * indata[u"1:6197725"] + -0.388871908685651 * indata[u"1:77978972"] + -0.104290481155699 * indata[u"2:108775741"] + 0.00903122809371312 * indata[u"2:113220141"] + -0.173567109064043 * indata[u"2:201266688"] + 0.00216946671265992 * indata[u"2:208243498"] + -0.00333344799191879 * indata[u"2:32392083"] + -1.16597631242975 * indata[u"2:47416383"] + 0.000159573150765662 * indata[u"3:179218303"] + -1.00239109458642 * indata[u"3:185480239"] + -0.0244326767551425 * indata[u"3:195779881"] + 0.00247242276782473 * indata[u"3:195783979"] + -0.00326723401206973 * indata[u"3:195784237"] + -0.0477354187507225 * indata[u"3:195786099"] + -0.00266589651740597 * indata[u"3:195789118"] + -0.00294529425650109 * indata[u"3:41233559"] + -0.11797840991555 * indata[u"3:47042593"] + -0.00288557136936109 * indata[u"3:47120775"] + -0.110339715084194 * indata[u"4:125491667"] + -0.00199055913244308 * indata[u"4:152328232"] + 0.0170971004745833 * indata[u"4:41746273"] + -0.00240312013854471 * indata[u"4:86701750"] + -0.028794145447322 * indata[u"4:86785861"] + -0.00197115677311231 * indata[u"4:87115150"] + -0.0028643992917855 * indata[u"5:180621797"] + 0.0250009017732067 * indata[u"7:102201668"] + 0.0133330300576995 * indata[u"Fingerprint_797"] + -0.27090023242512 * indata[u"Fingerprint_821"] + -0.758553972397652 * indata[u"From_Sanger"]))

    H1_4 = tanh((0.112987472181882 + -0.00349485565842506 * indata[u"1:11139295"] + -0.00381018302631157 * indata[u"1:116392885"] + -0.00199686859052705 * indata[u"1:149017744"] + -0.00229464561845024 * indata[u"1:149024614"] + 0.00154114291493612 * indata[u"1:156126805"] + -0.278818752399051 * indata[u"1:18691920"] + 0.808548458217835 * indata[u"1:198750544"] + 0.190212854027273 * indata[u"1:204546811"] + 0.00327509151054441 * indata[u"1:6197725"] + 0.00304534526063137 * indata[u"1:77978972"] + 0.0536612785214248 * indata[u"2:108775741"] + -0.00161470743841453 * indata[u"2:113220141"] + -0.00324246261170367 * indata[u"2:201266688"] + 0.00133789010882086 * indata[u"2:208243498"] + 0.519979879306562 * indata[u"2:32392083"] + -0.00153607599011649 * indata[u"2:47416383"] + 0.00395899232008193 * indata[u"3:179218303"] + 0.00106535435295889 * indata[u"3:185480239"] + -0.00350753347646428 * indata[u"3:195779881"] + 0.00190882887310355 * indata[u"3:195783979"] + -0.0050872350470901 * indata[u"3:195784237"] + 0.0156660947211575 * indata[u"3:195786099"] + 0.00140857647065512 * indata[u"3:195789118"] + -0.0409538804701888 * indata[u"3:41233559"] + -0.0014882009201386 * indata[u"3:47042593"] + -0.00233195943180531 * indata[u"3:47120775"] + -0.00385487587731408 * indata[u"4:125491667"] + 0.212963101418736 * indata[u"4:152328232"] + -0.00290875680226285 * indata[u"4:41746273"] + 0.00253636259681488 * indata[u"4:86701750"] + 0.0111492801029552 * indata[u"4:86785861"] + -0.00467193518297486 * indata[u"4:87115150"] + -0.0400482825097479 * indata[u"5:180621797"] + -0.112599693419474 * indata[u"7:102201668"] + -1.17286750137685 * indata[u"Fingerprint_797"] + -0.029700008598797 * indata[u"Fingerprint_821"] + -0.0819376670841492 * indata[u"From_Sanger"]))

    H1_5 = tanh((0.0891547043500429 + 0.00170710241972123 * indata[u"1:11139295"] + -0.00325164076030073 * indata[u"1:116392885"] + 0.00166172564856009 * indata[u"1:149017744"] + 0.00238128425552754 * indata[u"1:149024614"] + -0.00249599502067183 * indata[u"1:156126805"] + 0.00225086142520825 * indata[u"1:18691920"] + 0.00101064056463025 * indata[u"1:198750544"] + 0.00230734953006282 * indata[u"1:204546811"] + -0.00302131137878026 * indata[u"1:6197725"] + 0.000898547686435154 * indata[u"1:77978972"] + 0.157452180880727 * indata[u"2:108775741"] + -0.002935403758237 * indata[u"2:113220141"] + 0.00295215778039711 * indata[u"2:201266688"] + 0.000272239097622374 * indata[u"2:208243498"] + 0.00398506589712976 * indata[u"2:32392083"] + -1.48546473980521 * indata[u"2:47416383"] + 0.137840967588011 * indata[u"3:179218303"] + -0.550351630460125 * indata[u"3:185480239"] + -0.00219021870000263 * indata[u"3:195779881"] + 0.00251778719321511 * indata[u"3:195783979"] + -0.00332654246627902 * indata[u"3:195784237"] + 0.00116041151832711 * indata[u"3:195786099"] + 0.00305782138587357 * indata[u"3:195789118"] + -0.0826637427166265 * indata[u"3:41233559"] + 0.000653846553520784 * indata[u"3:47042593"] + 0.00187839933873349 * indata[u"3:47120775"] + 0.00124504126608169 * indata[u"4:125491667"] + 0.00240034142331687 * indata[u"4:152328232"] + -0.00372653714603124 * indata[u"4:41746273"] + -0.00284155024189157 * indata[u"4:86701750"] + 0.0029572468225655 * indata[u"4:86785861"] + -0.00301211845077679 * indata[u"4:87115150"] + -0.00245456693229621 * indata[u"5:180621797"] + 0.00206199903384861 * indata[u"7:102201668"] + 0.000706207657629036 * indata[u"Fingerprint_797"] + 0.00145574023749339 * indata[u"Fingerprint_821"] + 0.18598255347359 * indata[u"From_Sanger"]))

    H1_6 = tanh((-0.0752029163071396 + 0.00120104614915659 * indata[u"1:11139295"] + -0.00400592555472526 * indata[u"1:116392885"] + -0.0036205539291403 * indata[u"1:149017744"] + -0.00340030431969759 * indata[u"1:149024614"] + -0.191644566151991 * indata[u"1:156126805"] + 0.265003842462017 * indata[u"1:18691920"] + 0.00202228179240325 * indata[u"1:198750544"] + -0.00339186084669214 * indata[u"1:204546811"] + -0.0259708927470353 * indata[u"1:6197725"] + -0.00196789995440907 * indata[u"1:77978972"] + -0.00372493405752853 * indata[u"2:108775741"] + 0.00124204424651316 * indata[u"2:113220141"] + 0.00102706060033964 * indata[u"2:201266688"] + 0.0106788111806688 * indata[u"2:208243498"] + -0.00189250081821985 * indata[u"2:32392083"] + -0.00332328909399499 * indata[u"2:47416383"] + 0.00192091881032124 * indata[u"3:179218303"] + 0.00226393854819592 * indata[u"3:185480239"] + 0.00177503993755468 * indata[u"3:195779881"] + 0.00196919411678568 * indata[u"3:195783979"] + 0.00154650391303666 * indata[u"3:195784237"] + 0.00283939950931423 * indata[u"3:195786099"] + -0.00134837645956132 * indata[u"3:195789118"] + 0.00224421860203324 * indata[u"3:41233559"] + 0.00181397860478055 * indata[u"3:47042593"] + 0.0014864743893932 * indata[u"3:47120775"] + 0.000576356473504427 * indata[u"4:125491667"] + -0.0701076500493654 * indata[u"4:152328232"] + 0.000551046879980776 * indata[u"4:41746273"] + -0.0381107352758163 * indata[u"4:86701750"] + 0.0161999429458544 * indata[u"4:86785861"] + 0.393798516831601 * indata[u"4:87115150"] + 0.142645443960876 * indata[u"5:180621797"] + -0.000101272011979759 * indata[u"7:102201668"] + -0.0041797758318889 * indata[u"Fingerprint_797"] + 0.0340127814035561 * indata[u"Fingerprint_821"] + 0.046802819264922 * indata[u"From_Sanger"]))

    H1_7 = tanh((-0.318262884312031 + -0.00276454561026761 * indata[u"1:11139295"] + 0.0105999378601859 * indata[u"1:116392885"] + 0.00209665743800413 * indata[u"1:149017744"] + -0.00175578252373329 * indata[u"1:149024614"] + 0.0012488536905338 * indata[u"1:156126805"] + 0.00173752958891445 * indata[u"1:18691920"] + -0.00301854648139861 * indata[u"1:198750544"] + 0.00251941389152218 * indata[u"1:204546811"] + 2.19183677345703 * indata[u"1:6197725"] + -0.00234149268150392 * indata[u"1:77978972"] + 0.37396505869543 * indata[u"2:108775741"] + -0.00143343924656159 * indata[u"2:113220141"] + -0.00175903486924624 * indata[u"2:201266688"] + -0.00109733529326418 * indata[u"2:208243498"] + -0.000787993649478019 * indata[u"2:32392083"] + 0.00990307066792321 * indata[u"2:47416383"] + -0.00155101111329685 * indata[u"3:179218303"] + -0.00102744647544943 * indata[u"3:185480239"] + -0.078775881098398 * indata[u"3:195779881"] + 0.00189062229911042 * indata[u"3:195783979"] + -0.00148307714551208 * indata[u"3:195784237"] + -0.0900685986025163 * indata[u"3:195786099"] + -0.0024752905228096 * indata[u"3:195789118"] + 0.00188156782731093 * indata[u"3:41233559"] + -0.687716061181318 * indata[u"3:47042593"] + -0.00105729213211536 * indata[u"3:47120775"] + 0.00173356635932155 * indata[u"4:125491667"] + -0.00153365595635578 * indata[u"4:152328232"] + 0.0669111676110249 * indata[u"4:41746273"] + -0.000810900251464696 * indata[u"4:86701750"] + -0.372004405652981 * indata[u"4:86785861"] + -0.00213069020135015 * indata[u"4:87115150"] + 0.00221199033526893 * indata[u"5:180621797"] + -0.00114505950320622 * indata[u"7:102201668"] + -0.00045413885505494 * indata[u"Fingerprint_797"] + -0.445035165452072 * indata[u"Fingerprint_821"] + 0.766841915837746 * indata[u"From_Sanger"]))

    outdata[u"Predicted IC50_1"] = 2.65275100384741 + -2.1546246571529 * H1_1 + 2.51223464825458 * H1_2 + 2.57474330356987 * H1_3 + 1.2286493973171 * H1_4 + 0.302515410985948 * H1_5 + 0.626081672968848 * H1_6 + 1.5311119131744 * H1_7

    return outdata[u"Predicted IC50_1"]


