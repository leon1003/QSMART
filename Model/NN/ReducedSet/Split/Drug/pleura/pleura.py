from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"pleura", "version": u"14.1.0", "timestamp": u"2019-08-01T00:53:53Z"}


def getInputMetadata():
    return {
        u"Fingerprint_611": "float",
        u"Fingerprint_629": "float",
        u"Fingerprint_635": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_647": "float",
        u"Fingerprint_672": "float",
        u"Fingerprint_677": "float",
        u"Fingerprint_685": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_710": "float",
        u"Fingerprint_712": "float",
        u"Fingerprint_714": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_799": "float",
        u"Fingerprint_803": "float",
        u"Fingerprint_818": "float",
        u"Fingerprint_819": "float",
        u"Fingerprint_821": "float",
        u"Fingerprint_822": "float",
        u"Fingerprint_824": "float",
        u"Fingerprint_834": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H2_1
    # H2_2
    # H2_3
    # H2_4
    # H2_5
    # H2_6
    # H2_7
    # H2_8
    # H2_9
    # H2_10
    # H2_11
    # H1_1
    # H1_2
    # H1_3
    # H1_4

    H2_1 = tanh((-0.305480092485145 + 1.51233251738858 * indata[u"Fingerprint_611"] + -3.11481849789079 * indata[u"Fingerprint_629"] + 0.0367020450868742 * indata[u"Fingerprint_635"] + -0.643728435516009 * indata[u"Fingerprint_646"] + -0.652416581177626 * indata[u"Fingerprint_647"] + 0.870811566357275 * indata[u"Fingerprint_672"] + -3.73934516899993 * indata[u"Fingerprint_677"] + 0.465301934944608 * indata[u"Fingerprint_685"] + 4.23958784355512 * indata[u"Fingerprint_686"] + -0.473036265802028 * indata[u"Fingerprint_697"] + 2.30389903004457 * indata[u"Fingerprint_710"] + -3.32343022455516 * indata[u"Fingerprint_712"] + 0.512295392944104 * indata[u"Fingerprint_714"] + 1.03742087028604 * indata[u"Fingerprint_797"] + -0.419566124269049 * indata[u"Fingerprint_799"] + 2.46259712350117 * indata[u"Fingerprint_803"] + -1.51770146130483 * indata[u"Fingerprint_818"] + 2.81863004042205 * indata[u"Fingerprint_819"] + -1.34488021523016 * indata[u"Fingerprint_821"] + 2.20935869665498 * indata[u"Fingerprint_822"] + 2.68399517906816 * indata[u"Fingerprint_824"] + -2.78699059593544 * indata[u"Fingerprint_834"] + 2.29972232702138 * indata[u"From_Sanger"]))

    H2_2 = tanh((1.73896999230848 + 1.58646183252505 * indata[u"Fingerprint_611"] + 3.52110393206072 * indata[u"Fingerprint_629"] + -0.983190631866442 * indata[u"Fingerprint_635"] + 2.52687177384114 * indata[u"Fingerprint_646"] + 0.166479511047125 * indata[u"Fingerprint_647"] + 1.12889691947543 * indata[u"Fingerprint_672"] + -4.12850470361166 * indata[u"Fingerprint_677"] + 2.78945554254747 * indata[u"Fingerprint_685"] + -5.12603773973466 * indata[u"Fingerprint_686"] + -0.00881094555514853 * indata[u"Fingerprint_697"] + -0.542201901256776 * indata[u"Fingerprint_710"] + 2.11802869261009 * indata[u"Fingerprint_712"] + 2.6191349607974 * indata[u"Fingerprint_714"] + 1.78708545503864 * indata[u"Fingerprint_797"] + -7.59546829806212 * indata[u"Fingerprint_799"] + 2.20735561738768 * indata[u"Fingerprint_803"] + -2.58561376272731 * indata[u"Fingerprint_818"] + 2.39864170439982 * indata[u"Fingerprint_819"] + 0.369021117410831 * indata[u"Fingerprint_821"] + -1.55033385967953 * indata[u"Fingerprint_822"] + -0.24109422160888 * indata[u"Fingerprint_824"] + -2.83156300494176 * indata[u"Fingerprint_834"] + -2.52499019930149 * indata[u"From_Sanger"]))

    H2_3 = tanh((-2.15345375383422 + 2.74355480987204 * indata[u"Fingerprint_611"] + 3.26102195886247 * indata[u"Fingerprint_629"] + 0.680466242570246 * indata[u"Fingerprint_635"] + 0.85227874617967 * indata[u"Fingerprint_646"] + 1.64399306783497 * indata[u"Fingerprint_647"] + 0.271987921810388 * indata[u"Fingerprint_672"] + 0.199240865812628 * indata[u"Fingerprint_677"] + 1.17337425202459 * indata[u"Fingerprint_685"] + -6.28679005513295 * indata[u"Fingerprint_686"] + 0.113448026910849 * indata[u"Fingerprint_697"] + -0.056958215728805 * indata[u"Fingerprint_710"] + 0.588395861289479 * indata[u"Fingerprint_712"] + 3.49825967984827 * indata[u"Fingerprint_714"] + -0.520260158571579 * indata[u"Fingerprint_797"] + 0.0105774980616863 * indata[u"Fingerprint_799"] + 2.54006271123847 * indata[u"Fingerprint_803"] + -1.85888097854666 * indata[u"Fingerprint_818"] + 0.244711038715443 * indata[u"Fingerprint_819"] + -0.818929818792067 * indata[u"Fingerprint_821"] + -1.74386073986773 * indata[u"Fingerprint_822"] + 2.02029568462214 * indata[u"Fingerprint_824"] + 0.644959450122523 * indata[u"Fingerprint_834"] + 0.207669924403397 * indata[u"From_Sanger"]))

    H2_4 = tanh((2.80032387203043 + 0.417341905798871 * indata[u"Fingerprint_611"] + 2.16574781612124 * indata[u"Fingerprint_629"] + 1.82739540286992 * indata[u"Fingerprint_635"] + 0.402514259929976 * indata[u"Fingerprint_646"] + 1.93547489490193 * indata[u"Fingerprint_647"] + -0.256317439184462 * indata[u"Fingerprint_672"] + -0.71052822744579 * indata[u"Fingerprint_677"] + 2.39852661150251 * indata[u"Fingerprint_685"] + -4.44875171625144 * indata[u"Fingerprint_686"] + -0.0537625187042749 * indata[u"Fingerprint_697"] + -1.69801005058512 * indata[u"Fingerprint_710"] + -0.790847666987337 * indata[u"Fingerprint_712"] + 0.494825109125852 * indata[u"Fingerprint_714"] + -1.33986876316577 * indata[u"Fingerprint_797"] + 0.000467513747333982 * indata[u"Fingerprint_799"] + 3.6247322391928 * indata[u"Fingerprint_803"] + 1.3944476241394 * indata[u"Fingerprint_818"] + 1.65620178560564 * indata[u"Fingerprint_819"] + 0.456797472992926 * indata[u"Fingerprint_821"] + 1.44167621076936 * indata[u"Fingerprint_822"] + 0.196612477976985 * indata[u"Fingerprint_824"] + 1.8513114346154 * indata[u"Fingerprint_834"] + -1.03438119354575 * indata[u"From_Sanger"]))

    H2_5 = tanh((-9.27639886531887 + 1.1156053847871 * indata[u"Fingerprint_611"] + 0.552287487769767 * indata[u"Fingerprint_629"] + -3.74521179775049 * indata[u"Fingerprint_635"] + 0.348024316665267 * indata[u"Fingerprint_646"] + 2.3673674752502 * indata[u"Fingerprint_647"] + 0.41602951514561 * indata[u"Fingerprint_672"] + 6.01373421901708 * indata[u"Fingerprint_677"] + 2.65637123839569 * indata[u"Fingerprint_685"] + 2.97564695428008 * indata[u"Fingerprint_686"] + 0.21083860534192 * indata[u"Fingerprint_697"] + 1.29459270946591 * indata[u"Fingerprint_710"] + -0.687642398448232 * indata[u"Fingerprint_712"] + -0.610896642523107 * indata[u"Fingerprint_714"] + -1.75460951791027 * indata[u"Fingerprint_797"] + 1.49641305555507 * indata[u"Fingerprint_799"] + 4.07811685050899 * indata[u"Fingerprint_803"] + 0.959169857011762 * indata[u"Fingerprint_818"] + -1.27144443066209 * indata[u"Fingerprint_819"] + 0.746309798939081 * indata[u"Fingerprint_821"] + -2.2235191583595 * indata[u"Fingerprint_822"] + -1.69228080976265 * indata[u"Fingerprint_824"] + -2.56204279394199 * indata[u"Fingerprint_834"] + 1.67477172509499 * indata[u"From_Sanger"]))

    H2_6 = tanh((-7.1493218597019 + -1.44774687707511 * indata[u"Fingerprint_611"] + 0.056421999664101 * indata[u"Fingerprint_629"] + -1.77645587687021 * indata[u"Fingerprint_635"] + 1.78972265869669 * indata[u"Fingerprint_646"] + -0.124871850877047 * indata[u"Fingerprint_647"] + 0.15582206975841 * indata[u"Fingerprint_672"] + 3.4192584509597 * indata[u"Fingerprint_677"] + 1.50609267389027 * indata[u"Fingerprint_685"] + 1.41834520413952 * indata[u"Fingerprint_686"] + 3.17967726843206 * indata[u"Fingerprint_697"] + 2.23961365191773 * indata[u"Fingerprint_710"] + 0.790973292348401 * indata[u"Fingerprint_712"] + -0.182495798770969 * indata[u"Fingerprint_714"] + 1.46521235762337 * indata[u"Fingerprint_797"] + 2.97742581436403 * indata[u"Fingerprint_799"] + 0.705419989393367 * indata[u"Fingerprint_803"] + -2.9812823493978 * indata[u"Fingerprint_818"] + -0.715259970082746 * indata[u"Fingerprint_819"] + -1.49190697223849 * indata[u"Fingerprint_821"] + -2.1116276470856 * indata[u"Fingerprint_822"] + 0.41528240276497 * indata[u"Fingerprint_824"] + 1.97546473353245 * indata[u"Fingerprint_834"] + -0.314314271505777 * indata[u"From_Sanger"]))

    H2_7 = tanh((-0.352773407652211 + -0.134039805506185 * indata[u"Fingerprint_611"] + -0.22178224039464 * indata[u"Fingerprint_629"] + 0.0726384257022183 * indata[u"Fingerprint_635"] + 2.70424928188636 * indata[u"Fingerprint_646"] + -4.78849730092545 * indata[u"Fingerprint_647"] + 1.64078491679399 * indata[u"Fingerprint_672"] + 3.90030282079984 * indata[u"Fingerprint_677"] + -2.82915960034237 * indata[u"Fingerprint_685"] + 1.4633496663908 * indata[u"Fingerprint_686"] + -0.35370791863132 * indata[u"Fingerprint_697"] + -4.61688363621673 * indata[u"Fingerprint_710"] + -1.60779532518295 * indata[u"Fingerprint_712"] + -0.680916570442803 * indata[u"Fingerprint_714"] + 1.50044965124534 * indata[u"Fingerprint_797"] + 2.8139269504711 * indata[u"Fingerprint_799"] + -1.94893465921273 * indata[u"Fingerprint_803"] + 0.681938846775551 * indata[u"Fingerprint_818"] + 0.0898543072185376 * indata[u"Fingerprint_819"] + -0.737108391980218 * indata[u"Fingerprint_821"] + -0.862317579642959 * indata[u"Fingerprint_822"] + 4.87960582873081 * indata[u"Fingerprint_824"] + 2.15732948362985 * indata[u"Fingerprint_834"] + 1.17034872587237 * indata[u"From_Sanger"]))

    H2_8 = tanh((1.17329388270911 + -1.52544282907046 * indata[u"Fingerprint_611"] + -2.70607476378033 * indata[u"Fingerprint_629"] + 2.24368559387031 * indata[u"Fingerprint_635"] + 1.97866951909787 * indata[u"Fingerprint_646"] + -3.7522932337964 * indata[u"Fingerprint_647"] + -0.542060231420687 * indata[u"Fingerprint_672"] + 3.34648709021935 * indata[u"Fingerprint_677"] + 1.765228759975 * indata[u"Fingerprint_685"] + -2.42051965537718 * indata[u"Fingerprint_686"] + -1.45327211729814 * indata[u"Fingerprint_697"] + -4.18779586105256 * indata[u"Fingerprint_710"] + 0.639120897048401 * indata[u"Fingerprint_712"] + 0.561978124658941 * indata[u"Fingerprint_714"] + 0.43316397824596 * indata[u"Fingerprint_797"] + 8.82466516518015 * indata[u"Fingerprint_799"] + -4.46658121937633 * indata[u"Fingerprint_803"] + -3.7689552143876 * indata[u"Fingerprint_818"] + -2.25850961431714 * indata[u"Fingerprint_819"] + -0.291170733561895 * indata[u"Fingerprint_821"] + 0.290283879500958 * indata[u"Fingerprint_822"] + -0.402944681917386 * indata[u"Fingerprint_824"] + -0.992567242957445 * indata[u"Fingerprint_834"] + 0.511524286131147 * indata[u"From_Sanger"]))

    H2_9 = tanh((-2.02500326435391 + -2.31724913907116 * indata[u"Fingerprint_611"] + 3.16631143863122 * indata[u"Fingerprint_629"] + 3.7657864784388 * indata[u"Fingerprint_635"] + -1.20474263410741 * indata[u"Fingerprint_646"] + -0.120203296680009 * indata[u"Fingerprint_647"] + -0.538085759024194 * indata[u"Fingerprint_672"] + 2.77954438443197 * indata[u"Fingerprint_677"] + 1.85542404075055 * indata[u"Fingerprint_685"] + -1.17006846175115 * indata[u"Fingerprint_686"] + 0.0263190867663456 * indata[u"Fingerprint_697"] + -0.474903129264534 * indata[u"Fingerprint_710"] + -0.732089642086567 * indata[u"Fingerprint_712"] + 0.739334149800025 * indata[u"Fingerprint_714"] + 1.12369005662785 * indata[u"Fingerprint_797"] + -6.33500081117481 * indata[u"Fingerprint_799"] + -0.99161706640528 * indata[u"Fingerprint_803"] + 0.679101746562027 * indata[u"Fingerprint_818"] + 3.8337744819013 * indata[u"Fingerprint_819"] + 0.472929611008031 * indata[u"Fingerprint_821"] + 2.7551228856818 * indata[u"Fingerprint_822"] + -0.684426521277872 * indata[u"Fingerprint_824"] + -2.31936354242219 * indata[u"Fingerprint_834"] + -0.461945205794687 * indata[u"From_Sanger"]))

    H2_10 = tanh((-2.29327801208783 + 0.72749095983352 * indata[u"Fingerprint_611"] + 1.10372500595794 * indata[u"Fingerprint_629"] + 0.650099511101106 * indata[u"Fingerprint_635"] + 0.248655771026722 * indata[u"Fingerprint_646"] + -0.252863464104817 * indata[u"Fingerprint_647"] + -1.12943528209477 * indata[u"Fingerprint_672"] + -1.06553036491781 * indata[u"Fingerprint_677"] + 0.200492174891601 * indata[u"Fingerprint_685"] + -0.384246713467308 * indata[u"Fingerprint_686"] + -2.75470887494102 * indata[u"Fingerprint_697"] + 3.19818823260902 * indata[u"Fingerprint_710"] + -1.83421858082505 * indata[u"Fingerprint_712"] + 0.722975732479234 * indata[u"Fingerprint_714"] + 4.55729487148962 * indata[u"Fingerprint_797"] + 4.12411131611045 * indata[u"Fingerprint_799"] + -3.70287768506758 * indata[u"Fingerprint_803"] + 0.841887680201532 * indata[u"Fingerprint_818"] + 1.07095274362054 * indata[u"Fingerprint_819"] + 0.939190872956975 * indata[u"Fingerprint_821"] + 0.971872501859879 * indata[u"Fingerprint_822"] + 1.77955855779256 * indata[u"Fingerprint_824"] + 1.16806030415797 * indata[u"Fingerprint_834"] + -0.332423009557205 * indata[u"From_Sanger"]))

    H2_11 = tanh((0.200687354110938 + 0.15428869686445 * indata[u"Fingerprint_611"] + -2.35892375608996 * indata[u"Fingerprint_629"] + -4.9476322522093 * indata[u"Fingerprint_635"] + 0.904547171807539 * indata[u"Fingerprint_646"] + 1.59978645874749 * indata[u"Fingerprint_647"] + 0.670219369296511 * indata[u"Fingerprint_672"] + -1.92555053406348 * indata[u"Fingerprint_677"] + -0.0501650217299908 * indata[u"Fingerprint_685"] + -2.05410712357259 * indata[u"Fingerprint_686"] + -1.98865059402291 * indata[u"Fingerprint_697"] + 3.90041233524011 * indata[u"Fingerprint_710"] + -0.131633334242651 * indata[u"Fingerprint_712"] + -0.222960349820087 * indata[u"Fingerprint_714"] + -1.23823708395914 * indata[u"Fingerprint_797"] + 0.332280567378479 * indata[u"Fingerprint_799"] + -0.777813537174541 * indata[u"Fingerprint_803"] + -0.47410207584359 * indata[u"Fingerprint_818"] + -0.405883073536917 * indata[u"Fingerprint_819"] + -1.30892034842182 * indata[u"Fingerprint_821"] + 2.10854730630417 * indata[u"Fingerprint_822"] + 0.0514826308761504 * indata[u"Fingerprint_824"] + -2.27335355530182 * indata[u"Fingerprint_834"] + 0.926723077240736 * indata[u"From_Sanger"]))

    H1_1 = tanh((-0.0542954203779372 + 1.39140116432867 * H2_1 + -0.812855807373082 * H2_10 + 0.794658038644031 * H2_11 + 1.62889348123598 * H2_2 + 0.688270847638585 * H2_3 + 0.0598268420907335 * H2_4 + 0.00608756250042855 * H2_5 + -0.377406379014987 * H2_6 + -0.363533503275342 * H2_7 + -0.9673836090223 * H2_8 + 0.218395626876195 * H2_9))

    H1_2 = tanh((-1.03350317562204 + -0.0704466078350995 * H2_1 + -0.136299459913666 * H2_10 + 0.368024365785571 * H2_11 + 0.694153778308231 * H2_2 + 1.19926802474562 * H2_3 + -0.900101838397505 * H2_4 + 0.560656038199077 * H2_5 + 1.15048331343186 * H2_6 + -1.06355290944054 * H2_7 + 0.0998338545343117 * H2_8 + 0.33925693526117 * H2_9))

    H1_3 = tanh((0.985968267363574 + 0.126081772779345 * H2_1 + -0.860736277981962 * H2_10 + 0.786886715144731 * H2_11 + -0.765736596923447 * H2_2 + -0.682353579667427 * H2_3 + 0.829523510818919 * H2_4 + -0.544632080767726 * H2_5 + -0.017352199839254 * H2_6 + -0.401783375399558 * H2_7 + 0.499966677617633 * H2_8 + 0.521230117599411 * H2_9))

    H1_4 = tanh((-0.240130592242497 + -0.477947044578925 * H2_1 + 0.414452779269253 * H2_10 + -0.78893735304138 * H2_11 + -0.391054998038482 * H2_2 + -0.599401047551844 * H2_3 + 0.233752104128158 * H2_4 + -0.282462102384733 * H2_5 + 1.1075419717096 * H2_6 + -0.420313862301358 * H2_7 + 0.854699778882814 * H2_8 + -0.466808177915796 * H2_9))

    outdata[u"Predicted IC50_1"] = 1.11720140616717 + 3.44381161030932 * H1_1 + -2.34421365142313 * H1_2 + 2.03825599794318 * H1_3 + 3.438230256273 * H1_4

    return outdata[u"Predicted IC50_1"]


