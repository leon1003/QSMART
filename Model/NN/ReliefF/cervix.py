from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """


def getInputMetadata():
    return {
        u"Fingerprint_363": "float",
        u"Fingerprint_588": "float",
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_629": "float",
        u"Fingerprint_635": "float",
        u"Fingerprint_643": "float",
        u"Fingerprint_644": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_647": "float",
        u"Fingerprint_650": "float",
        u"Fingerprint_658": "float",
        u"Fingerprint_673": "float",
        u"Fingerprint_676": "float",
        u"Fingerprint_685": "float",
        u"Fingerprint_686": "float",
        u"Fingerprint_696": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_698": "float",
        u"Fingerprint_707": "float",
        u"Fingerprint_709": "float",
        u"Fingerprint_711": "float",
        u"Fingerprint_712": "float",
        u"Fingerprint_714": "float",
        u"Fingerprint_779": "float",
        u"Fingerprint_784": "float",
        u"Fingerprint_791": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_798": "float",
        u"Fingerprint_800": "float",
        u"Fingerprint_812": "float",
        u"Fingerprint_818": "float",
        u"Fingerprint_821": "float",
        u"Fingerprint_824": "float",
        u"Fingerprint_826": "float",
        u"Fingerprint_833": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6
    # H1_7

    H1_1 = tanh((0.0161066421616533 + 0.00200402215609033 * indata[u"Fingerprint_363"] + 0.000921441002657249 * indata[u"Fingerprint_588"] + 0.00131743700387616 * indata[u"Fingerprint_611"] + 0.0000949543757653856 * indata[u"Fingerprint_617"] + 0.00397735764429841 * indata[u"Fingerprint_629"] + 0.00104568018185164 * indata[u"Fingerprint_635"] + 0.000374783218874171 * indata[u"Fingerprint_643"] + -0.00123698216243622 * indata[u"Fingerprint_644"] + -0.00131122245050776 * indata[u"Fingerprint_646"] + -0.0229090072434333 * indata[u"Fingerprint_647"] + 0.000657618905725233 * indata[u"Fingerprint_650"] + -0.00151181526171852 * indata[u"Fingerprint_658"] + -0.000692123798969603 * indata[u"Fingerprint_673"] + 0.00154133746129408 * indata[u"Fingerprint_676"] + 0.00189046928853627 * indata[u"Fingerprint_685"] + -0.00177991003975452 * indata[u"Fingerprint_686"] + -0.0150990164954536 * indata[u"Fingerprint_696"] + -0.000856345575539611 * indata[u"Fingerprint_697"] + -0.000315715355137655 * indata[u"Fingerprint_698"] + -0.000466579777800817 * indata[u"Fingerprint_707"] + -0.00174732498015734 * indata[u"Fingerprint_709"] + 0.000153844396998586 * indata[u"Fingerprint_711"] + -0.000314217882055694 * indata[u"Fingerprint_712"] + 0.00497789040631243 * indata[u"Fingerprint_714"] + 0.000467234557369486 * indata[u"Fingerprint_779"] + -0.00148665757894953 * indata[u"Fingerprint_784"] + -0.00013962042077781 * indata[u"Fingerprint_791"] + -0.000564567914644949 * indata[u"Fingerprint_797"] + -0.000810296877449777 * indata[u"Fingerprint_798"] + -0.000110184038192732 * indata[u"Fingerprint_800"] + 0.000314335587131554 * indata[u"Fingerprint_812"] + 0.000435053293515772 * indata[u"Fingerprint_818"] + -0.00262040480981003 * indata[u"Fingerprint_821"] + -0.000153949483252053 * indata[u"Fingerprint_824"] + 0.000662381215636017 * indata[u"Fingerprint_826"] + -0.000605901300881213 * indata[u"Fingerprint_833"] + -0.000412240921232267 * indata[u"From_Sanger"]))

    H1_2 = tanh((-0.0642917699953149 + 0.00104043598485765 * indata[u"Fingerprint_363"] + 0.000608968183529987 * indata[u"Fingerprint_588"] + -0.00605299149060336 * indata[u"Fingerprint_611"] + -0.00051338609034953 * indata[u"Fingerprint_617"] + 0.0346625726006234 * indata[u"Fingerprint_629"] + -0.000079883240894686 * indata[u"Fingerprint_635"] + -0.000419919854628223 * indata[u"Fingerprint_643"] + 0.00164945279109193 * indata[u"Fingerprint_644"] + 0.000900814939665789 * indata[u"Fingerprint_646"] + -0.000275372384257716 * indata[u"Fingerprint_647"] + -0.000490121886444154 * indata[u"Fingerprint_650"] + -0.00161574298550205 * indata[u"Fingerprint_658"] + 0.00127449339108941 * indata[u"Fingerprint_673"] + -0.000188759883803521 * indata[u"Fingerprint_676"] + 0.00998380494731238 * indata[u"Fingerprint_685"] + -0.00445793148727734 * indata[u"Fingerprint_686"] + 0.0986094913834569 * indata[u"Fingerprint_696"] + -0.00533762767552151 * indata[u"Fingerprint_697"] + 0.000559628853608829 * indata[u"Fingerprint_698"] + 0.000382620935880439 * indata[u"Fingerprint_707"] + 0.000226480131949132 * indata[u"Fingerprint_709"] + 0.00207766069364247 * indata[u"Fingerprint_711"] + 0.00045041157011632 * indata[u"Fingerprint_712"] + 0.000492107074482303 * indata[u"Fingerprint_714"] + -0.000330465640235977 * indata[u"Fingerprint_779"] + 0.00243060772207683 * indata[u"Fingerprint_784"] + -0.00026554214986718 * indata[u"Fingerprint_791"] + 0.000379931032395368 * indata[u"Fingerprint_797"] + -0.00123486680773555 * indata[u"Fingerprint_798"] + -0.000147258898838095 * indata[u"Fingerprint_800"] + -0.00116435622889037 * indata[u"Fingerprint_812"] + 0.00139671383478818 * indata[u"Fingerprint_818"] + 0.00289397124027005 * indata[u"Fingerprint_821"] + -0.00144998604509856 * indata[u"Fingerprint_824"] + -0.0263070439592483 * indata[u"Fingerprint_826"] + -0.00273853895880502 * indata[u"Fingerprint_833"] + -0.000787540807953137 * indata[u"From_Sanger"]))

    H1_3 = tanh((0.12988713741071 + 0.00253829903028317 * indata[u"Fingerprint_363"] + -0.0234341073901411 * indata[u"Fingerprint_588"] + -0.00835804759035259 * indata[u"Fingerprint_611"] + 0.193658635358443 * indata[u"Fingerprint_617"] + 0.000233191546720772 * indata[u"Fingerprint_629"] + -0.100230700483951 * indata[u"Fingerprint_635"] + -0.0784083776803413 * indata[u"Fingerprint_643"] + 0.0387636634399834 * indata[u"Fingerprint_644"] + 0.000936107538452138 * indata[u"Fingerprint_646"] + 0.122117499601571 * indata[u"Fingerprint_647"] + -0.435884898435068 * indata[u"Fingerprint_650"] + -0.0748848892814228 * indata[u"Fingerprint_658"] + -0.00069228443017729 * indata[u"Fingerprint_673"] + -0.00204405485248007 * indata[u"Fingerprint_676"] + 0.00437741881850529 * indata[u"Fingerprint_685"] + -0.0485293877978268 * indata[u"Fingerprint_686"] + 0.0101756447373308 * indata[u"Fingerprint_696"] + 0.0108838922858332 * indata[u"Fingerprint_697"] + -0.00296098992372151 * indata[u"Fingerprint_698"] + -0.00342074791754316 * indata[u"Fingerprint_707"] + -0.00745388329510175 * indata[u"Fingerprint_709"] + 0.000497846010806305 * indata[u"Fingerprint_711"] + 0.0355750659011939 * indata[u"Fingerprint_712"] + -0.013924062057144 * indata[u"Fingerprint_714"] + -0.189563773220127 * indata[u"Fingerprint_779"] + -0.0020094986016588 * indata[u"Fingerprint_784"] + -0.0832832445354916 * indata[u"Fingerprint_791"] + -0.00617616053399253 * indata[u"Fingerprint_797"] + 0.0178145577818507 * indata[u"Fingerprint_798"] + 0.00815698802084466 * indata[u"Fingerprint_800"] + -0.0100758367665885 * indata[u"Fingerprint_812"] + -0.000265921253194874 * indata[u"Fingerprint_818"] + 0.089063546961902 * indata[u"Fingerprint_821"] + -0.00631917692361992 * indata[u"Fingerprint_824"] + -0.0197762027877328 * indata[u"Fingerprint_826"] + 0.0537231478362874 * indata[u"Fingerprint_833"] + 0.175517852873218 * indata[u"From_Sanger"]))

    H1_4 = tanh((0.160678778162598 + -0.0164396415625589 * indata[u"Fingerprint_363"] + 0.008039707591133 * indata[u"Fingerprint_588"] + 0.0151520580440094 * indata[u"Fingerprint_611"] + -0.0635529180458243 * indata[u"Fingerprint_617"] + 0.0931337653783348 * indata[u"Fingerprint_629"] + 0.078406458364309 * indata[u"Fingerprint_635"] + -0.000551130817479098 * indata[u"Fingerprint_643"] + 0.0206366101797782 * indata[u"Fingerprint_644"] + 0.00733470906258445 * indata[u"Fingerprint_646"] + -0.115779140491912 * indata[u"Fingerprint_647"] + -0.00160589181632893 * indata[u"Fingerprint_650"] + 0.145755954448104 * indata[u"Fingerprint_658"] + 0.0236793817727564 * indata[u"Fingerprint_673"] + 0.0381654411781141 * indata[u"Fingerprint_676"] + 0.0025432179137024 * indata[u"Fingerprint_685"] + 0.0414046114187886 * indata[u"Fingerprint_686"] + -0.0140106714684892 * indata[u"Fingerprint_696"] + -0.000902526116057992 * indata[u"Fingerprint_697"] + -0.0763739082151914 * indata[u"Fingerprint_698"] + 0.207805912929208 * indata[u"Fingerprint_707"] + -0.000408215868428797 * indata[u"Fingerprint_709"] + 0.0117701826894506 * indata[u"Fingerprint_711"] + -0.0643937380621675 * indata[u"Fingerprint_712"] + -0.0392775613018197 * indata[u"Fingerprint_714"] + 0.0266668597699598 * indata[u"Fingerprint_779"] + -0.01579742283901 * indata[u"Fingerprint_784"] + -0.0370300353831906 * indata[u"Fingerprint_791"] + -0.00154585616452358 * indata[u"Fingerprint_797"] + -0.00777316413342147 * indata[u"Fingerprint_798"] + -0.0985133260098618 * indata[u"Fingerprint_800"] + 0.00344995491283209 * indata[u"Fingerprint_812"] + -0.0000416231990022603 * indata[u"Fingerprint_818"] + -0.195738531085899 * indata[u"Fingerprint_821"] + -0.0109361415572101 * indata[u"Fingerprint_824"] + -0.00191567147263339 * indata[u"Fingerprint_826"] + -0.0209753966431286 * indata[u"Fingerprint_833"] + -0.0170758991020814 * indata[u"From_Sanger"]))

    H1_5 = tanh((-0.0936223438051889 + -0.000581316906457559 * indata[u"Fingerprint_363"] + -0.00176527971311987 * indata[u"Fingerprint_588"] + 0.0165786580847588 * indata[u"Fingerprint_611"] + -0.00101892361525984 * indata[u"Fingerprint_617"] + -0.116175042259209 * indata[u"Fingerprint_629"] + -0.00950219539007065 * indata[u"Fingerprint_635"] + -0.0835987605040807 * indata[u"Fingerprint_643"] + -0.00519886914611527 * indata[u"Fingerprint_644"] + 0.00750512042018254 * indata[u"Fingerprint_646"] + 0.0000391766995077359 * indata[u"Fingerprint_647"] + 0.00120597844152725 * indata[u"Fingerprint_650"] + -0.00558126564821969 * indata[u"Fingerprint_658"] + 0.191102876926373 * indata[u"Fingerprint_673"] + 0.126820256349883 * indata[u"Fingerprint_676"] + 0.0105102078376987 * indata[u"Fingerprint_685"] + -0.00380540033965627 * indata[u"Fingerprint_686"] + -0.0273007276300114 * indata[u"Fingerprint_696"] + 0.00015341748422011 * indata[u"Fingerprint_697"] + -0.0152295714486937 * indata[u"Fingerprint_698"] + 0.19848034142641 * indata[u"Fingerprint_707"] + 0.00091020519956942 * indata[u"Fingerprint_709"] + 0.0444413358245445 * indata[u"Fingerprint_711"] + 0.0369134074383189 * indata[u"Fingerprint_712"] + 0.166273025749286 * indata[u"Fingerprint_714"] + 0.000801183064317675 * indata[u"Fingerprint_779"] + -0.00827523857990589 * indata[u"Fingerprint_784"] + -0.200597937410098 * indata[u"Fingerprint_791"] + -0.0000409449806141019 * indata[u"Fingerprint_797"] + -0.00302291945329626 * indata[u"Fingerprint_798"] + -0.000694860027097831 * indata[u"Fingerprint_800"] + 0.00345181647964267 * indata[u"Fingerprint_812"] + -0.00118174227282617 * indata[u"Fingerprint_818"] + 0.0293106744800364 * indata[u"Fingerprint_821"] + -0.00992079214721433 * indata[u"Fingerprint_824"] + 0.0283740440643435 * indata[u"Fingerprint_826"] + -0.0010327817988093 * indata[u"Fingerprint_833"] + 0.173513016057466 * indata[u"From_Sanger"]))

    H1_6 = tanh((0.00471506139292316 + -0.0174130021881511 * indata[u"Fingerprint_363"] + -0.00107746133888702 * indata[u"Fingerprint_588"] + -0.0188693995329774 * indata[u"Fingerprint_611"] + 0.168169815372048 * indata[u"Fingerprint_617"] + -0.000616207693097887 * indata[u"Fingerprint_629"] + 0.001045801700001 * indata[u"Fingerprint_635"] + 0.058695163275196 * indata[u"Fingerprint_643"] + -0.0181986364226244 * indata[u"Fingerprint_644"] + 0.00530178307195135 * indata[u"Fingerprint_646"] + -0.00906914259650089 * indata[u"Fingerprint_647"] + -0.00163996416593573 * indata[u"Fingerprint_650"] + 0.0553034859070621 * indata[u"Fingerprint_658"] + 0.000215015679570699 * indata[u"Fingerprint_673"] + 0.00143335523952518 * indata[u"Fingerprint_676"] + 0.00758250597544501 * indata[u"Fingerprint_685"] + 0.00537538222863299 * indata[u"Fingerprint_686"] + -0.0167157350477219 * indata[u"Fingerprint_696"] + 0.000278188937773467 * indata[u"Fingerprint_697"] + 0.00113051554913127 * indata[u"Fingerprint_698"] + 0.0703950409617036 * indata[u"Fingerprint_707"] + -0.00157829079030253 * indata[u"Fingerprint_709"] + 0.00175958788378754 * indata[u"Fingerprint_711"] + -0.121851285409656 * indata[u"Fingerprint_712"] + 0.249655320178068 * indata[u"Fingerprint_714"] + -0.359997794457434 * indata[u"Fingerprint_779"] + 0.000257108456955179 * indata[u"Fingerprint_784"] + 0.117149613104462 * indata[u"Fingerprint_791"] + -0.0551015754524363 * indata[u"Fingerprint_797"] + 0.0440797139244392 * indata[u"Fingerprint_798"] + -0.0469564820736806 * indata[u"Fingerprint_800"] + 0.0446984818492895 * indata[u"Fingerprint_812"] + 0.000983144516380063 * indata[u"Fingerprint_818"] + -0.0402515666557185 * indata[u"Fingerprint_821"] + 0.000479277620103439 * indata[u"Fingerprint_824"] + 0.00289436558762792 * indata[u"Fingerprint_826"] + 0.00343926782308211 * indata[u"Fingerprint_833"] + 0.0776337065760579 * indata[u"From_Sanger"]))

    H1_7 = tanh((-0.164209630701228 + 0.00629394069719381 * indata[u"Fingerprint_363"] + 0.0113139362898777 * indata[u"Fingerprint_588"] + -0.00188172556959064 * indata[u"Fingerprint_611"] + -0.0232501644432672 * indata[u"Fingerprint_617"] + -0.227940362901598 * indata[u"Fingerprint_629"] + 0.000775616751341403 * indata[u"Fingerprint_635"] + 0.031084715488853 * indata[u"Fingerprint_643"] + -0.0757426067587834 * indata[u"Fingerprint_644"] + -0.00111766498868854 * indata[u"Fingerprint_646"] + 0.00157448204541554 * indata[u"Fingerprint_647"] + 0.416271074970955 * indata[u"Fingerprint_650"] + -0.0598325621728449 * indata[u"Fingerprint_658"] + 0.144446853618361 * indata[u"Fingerprint_673"] + 0.0807667861164247 * indata[u"Fingerprint_676"] + -0.00126241130670369 * indata[u"Fingerprint_685"] + 0.00233604930136638 * indata[u"Fingerprint_686"] + -0.0862375248206853 * indata[u"Fingerprint_696"] + 0.00178112143916254 * indata[u"Fingerprint_697"] + 0.0702589575550709 * indata[u"Fingerprint_698"] + -0.00212036073697821 * indata[u"Fingerprint_707"] + 0.0055834700212301 * indata[u"Fingerprint_709"] + 0.00769078257122908 * indata[u"Fingerprint_711"] + -0.00149835949552258 * indata[u"Fingerprint_712"] + 0.345771611706073 * indata[u"Fingerprint_714"] + -0.0452506724759815 * indata[u"Fingerprint_779"] + 0.0158239896068281 * indata[u"Fingerprint_784"] + -0.000346190803651466 * indata[u"Fingerprint_791"] + -0.0335956069697211 * indata[u"Fingerprint_797"] + 0.0170256405000195 * indata[u"Fingerprint_798"] + 0.0732492730094589 * indata[u"Fingerprint_800"] + 0.037040361777215 * indata[u"Fingerprint_812"] + 0.00613314043187042 * indata[u"Fingerprint_818"] + 0.122427630026134 * indata[u"Fingerprint_821"] + -0.00034493636064214 * indata[u"Fingerprint_824"] + 0.0767728531714246 * indata[u"Fingerprint_826"] + -0.0300921537917991 * indata[u"Fingerprint_833"] + 0.0448473589460843 * indata[u"From_Sanger"]))

    outdata[u"Predicted IC50_1"] = -26.8151194929551 + -64.1697845973052 * H1_1 + 92.4897618624046 * H1_2 + 178.597550605439 * H1_3 + 198.566067997749 * H1_4 + -165.143266809929 * H1_5 + -106.443940264157 * H1_6 + 189.111789552427 * H1_7

    return outdata[u"Predicted IC50_1"]


