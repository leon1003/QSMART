from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"liver", "version": u"14.1.0", "timestamp": u"2019-05-16T11:33:24Z"}


def getInputMetadata():
    return {
        u"1:114713908": "float",
        u"1:154157688": "float",
        u"1:36473793": "float",
        u"1:7640390": "float",
        u"2:25742766": "float",
        u"2:60462345": "float",
        u"3:186786177": "float",
        u"3:195781645": "float",
        u"3:195788793": "float",
        u"3:195790142": "float",
        u"3:41224585": "float",
        u"4:125491178": "float",
        u"4:86750763": "float",
        u"5:24535269": "float",
        u"6:106105439": "float",
        u"ExtFP10": "float",
        u"ExtFP240": "float",
        u"ExtFP250": "float",
        u"ExtFP28": "float",
        u"ExtFP338": "float",
        u"ExtFP477": "float",
        u"ExtFP780": "float",
        u"FP1014": "float",
        u"FP233": "float",
        u"FP244": "float",
        u"FP316": "float",
        u"FP328": "float",
        u"FP382": "float",
        u"FP50": "float",
        u"FP552": "float",
        u"FP604": "float",
        u"FP627": "float",
        u"FP632": "float",
        u"FP689": "float",
        u"FP702": "float",
        u"FP724": "float",
        u"FP805": "float",
        u"FP885": "float",
        u"FP898": "float",
        u"GraphFP199": "float",
        u"GraphFP233": "float",
        u"GraphFP496": "float",
        u"GraphFP50": "float",
        u"GraphFP58": "float",
        u"GraphFP619": "float",
        u"GraphFP692": "float",
        u"GraphFP75": "float",
        u"GraphFP993": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6
    # H1_7

    H1_1 = tanh((-13.710585149832 + -3.87328500216802 * indata[u"1:114713908"] + 0.781874067656996 * indata[u"1:154157688"] + 0.295034381179514 * indata[u"1:36473793"] + -3.20804329415288 * indata[u"1:7640390"] + 1.16789254344182 * indata[u"2:25742766"] + 1.21495184060646 * indata[u"2:60462345"] + -1.26135854754337 * indata[u"3:186786177"] + 1.25818637583746 * indata[u"3:195781645"] + -0.310305498655525 * indata[u"3:195788793"] + 0.0222778373612287 * indata[u"3:195790142"] + 2.01259919813406 * indata[u"3:41224585"] + -4.72623985215184 * indata[u"4:125491178"] + -1.89587695357049 * indata[u"4:86750763"] + 2.04375215413557 * indata[u"5:24535269"] + 2.37130084549603 * indata[u"6:106105439"] + -1.7337556905515 * indata[u"ExtFP10"] + 1.73155898550558 * indata[u"ExtFP240"] + 2.56747173909558 * indata[u"ExtFP250"] + 5.26791787784753 * indata[u"ExtFP28"] + -0.823364708525689 * indata[u"ExtFP338"] + 2.16198978822244 * indata[u"ExtFP477"] + -0.0625590276170935 * indata[u"ExtFP780"] + 2.67369818492345 * indata[u"FP1014"] + -2.82435439902428 * indata[u"FP233"] + -3.27014473707626 * indata[u"FP244"] + 4.05383039229573 * indata[u"FP316"] + 0.94459244664579 * indata[u"FP328"] + 6.20673543925464 * indata[u"FP382"] + 2.73109233878897 * indata[u"FP50"] + 0.272541372860003 * indata[u"FP552"] + -3.92181152524695 * indata[u"FP604"] + -1.58913398211761 * indata[u"FP627"] + 0.849555203949375 * indata[u"FP632"] + 5.09418959191435 * indata[u"FP689"] + 3.69746798548212 * indata[u"FP702"] + 1.40392772132957 * indata[u"FP724"] + 1.49650096820619 * indata[u"FP805"] + -2.6669005583056 * indata[u"FP885"] + 3.79440887930436 * indata[u"FP898"] + -2.57696973568192 * indata[u"GraphFP199"] + -0.746120290476701 * indata[u"GraphFP233"] + 3.39497624108145 * indata[u"GraphFP496"] + 3.88705701462903 * indata[u"GraphFP50"] + 6.58308551754296 * indata[u"GraphFP58"] + -1.91608696096682 * indata[u"GraphFP619"] + 1.36657783729166 * indata[u"GraphFP692"] + 1.86365726404875 * indata[u"GraphFP75"] + 4.82383027319275 * indata[u"GraphFP993"]))

    H1_2 = tanh((0.512530163796263 + 0.440400267526451 * indata[u"1:114713908"] + 1.87991711669722 * indata[u"1:154157688"] + -0.333976666064536 * indata[u"1:36473793"] + -2.2911397054506 * indata[u"1:7640390"] + 3.0499553666399 * indata[u"2:25742766"] + -0.596064871879351 * indata[u"2:60462345"] + 0.825155932903268 * indata[u"3:186786177"] + -0.493655500312925 * indata[u"3:195781645"] + 1.54225109378567 * indata[u"3:195788793"] + 1.83529109671273 * indata[u"3:195790142"] + -3.91690253762576 * indata[u"3:41224585"] + -0.169561927936837 * indata[u"4:125491178"] + -0.901141519477291 * indata[u"4:86750763"] + 0.677405434261994 * indata[u"5:24535269"] + 1.0800694841991 * indata[u"6:106105439"] + -0.934469619078836 * indata[u"ExtFP10"] + 0.393028000618022 * indata[u"ExtFP240"] + -1.59132234695704 * indata[u"ExtFP250"] + -1.17432715578048 * indata[u"ExtFP28"] + 0.799051969132215 * indata[u"ExtFP338"] + 1.5562415362386 * indata[u"ExtFP477"] + 0.405325414032836 * indata[u"ExtFP780"] + 1.93530342507443 * indata[u"FP1014"] + 4.75795177527612 * indata[u"FP233"] + -3.63114660776672 * indata[u"FP244"] + -3.7608968527114 * indata[u"FP316"] + 1.00812487882426 * indata[u"FP328"] + 1.74552148889041 * indata[u"FP382"] + 0.735276181181142 * indata[u"FP50"] + -1.24165112602579 * indata[u"FP552"] + -0.597798631791625 * indata[u"FP604"] + -1.32170152620873 * indata[u"FP627"] + -1.55803385767985 * indata[u"FP632"] + -1.36775240705266 * indata[u"FP689"] + 1.21434470454355 * indata[u"FP702"] + 2.00600251030776 * indata[u"FP724"] + 3.39212324648377 * indata[u"FP805"] + -3.17081282692908 * indata[u"FP885"] + -4.01470112165332 * indata[u"FP898"] + 0.0463807735081707 * indata[u"GraphFP199"] + 4.60337533257426 * indata[u"GraphFP233"] + 1.69821955757547 * indata[u"GraphFP496"] + 0.852253121477205 * indata[u"GraphFP50"] + -0.987142988672544 * indata[u"GraphFP58"] + -0.0702624326567416 * indata[u"GraphFP619"] + 4.32996339221824 * indata[u"GraphFP692"] + 1.70202211251408 * indata[u"GraphFP75"] + -0.719510876757316 * indata[u"GraphFP993"]))

    H1_3 = tanh((-2.15022365428494 + 0.000431921194797618 * indata[u"1:114713908"] + -1.53955571810418 * indata[u"1:154157688"] + -2.3076973323771 * indata[u"1:36473793"] + -2.38034549333985 * indata[u"1:7640390"] + 0.208866506881059 * indata[u"2:25742766"] + 0.0000128826886377075 * indata[u"2:60462345"] + -0.311040038516029 * indata[u"3:186786177"] + 2.26655135269254 * indata[u"3:195781645"] + 0.0251423788261622 * indata[u"3:195788793"] + 2.42653771104459 * indata[u"3:195790142"] + -0.787895548994107 * indata[u"3:41224585"] + 1.60932418641014 * indata[u"4:125491178"] + -1.52991103945235 * indata[u"4:86750763"] + -3.38803331282884 * indata[u"5:24535269"] + -0.6784381595395 * indata[u"6:106105439"] + 2.03388250875524 * indata[u"ExtFP10"] + 0.410093664049151 * indata[u"ExtFP240"] + -0.559347290685505 * indata[u"ExtFP250"] + 1.22104095323924 * indata[u"ExtFP28"] + 2.24624395790669 * indata[u"ExtFP338"] + 2.73810216878547 * indata[u"ExtFP477"] + 1.7218136883008 * indata[u"ExtFP780"] + -3.45508281253137 * indata[u"FP1014"] + 0.802921598632042 * indata[u"FP233"] + -0.499310132422528 * indata[u"FP244"] + -4.26162706762323 * indata[u"FP316"] + 0.842115713735757 * indata[u"FP328"] + 4.07448396963534 * indata[u"FP382"] + 0.368475592493135 * indata[u"FP50"] + 2.1764472220838 * indata[u"FP552"] + 3.24096231104541 * indata[u"FP604"] + -0.945672358694882 * indata[u"FP627"] + 0.0988028291387707 * indata[u"FP632"] + 5.31557203292619 * indata[u"FP689"] + 0.532635516358226 * indata[u"FP702"] + -2.21521699531536 * indata[u"FP724"] + -0.337812503523042 * indata[u"FP805"] + 0.173203714712407 * indata[u"FP885"] + 2.95454935349715 * indata[u"FP898"] + 3.07538458373194 * indata[u"GraphFP199"] + 1.72836420431496 * indata[u"GraphFP233"] + -4.4946627039509 * indata[u"GraphFP496"] + -5.74360601248155 * indata[u"GraphFP50"] + -3.49553665765379 * indata[u"GraphFP58"] + -4.17639530008842 * indata[u"GraphFP619"] + -6.29751441929233 * indata[u"GraphFP692"] + 0.102360564339413 * indata[u"GraphFP75"] + -1.45632909795147 * indata[u"GraphFP993"]))

    H1_4 = tanh((-7.05550524215292 + -0.908834254267333 * indata[u"1:114713908"] + 5.1429596052798 * indata[u"1:154157688"] + 0.750200859953527 * indata[u"1:36473793"] + 0.5307296566104 * indata[u"1:7640390"] + 1.04546049150009 * indata[u"2:25742766"] + 2.81072102045084 * indata[u"2:60462345"] + -1.71567739380013 * indata[u"3:186786177"] + -1.35118802405816 * indata[u"3:195781645"] + 0.497318264403971 * indata[u"3:195788793"] + -1.72040480965488 * indata[u"3:195790142"] + 2.3310288344838 * indata[u"3:41224585"] + -2.3075277618297 * indata[u"4:125491178"] + 1.99680697814575 * indata[u"4:86750763"] + 1.16783543995188 * indata[u"5:24535269"] + 0.705603344112898 * indata[u"6:106105439"] + 1.40463163440189 * indata[u"ExtFP10"] + 0.953292645301081 * indata[u"ExtFP240"] + 0.82354176690185 * indata[u"ExtFP250"] + 2.71277522164039 * indata[u"ExtFP28"] + 2.59076639010034 * indata[u"ExtFP338"] + 4.17062556492169 * indata[u"ExtFP477"] + 0.384571456426562 * indata[u"ExtFP780"] + 3.75310145302227 * indata[u"FP1014"] + -1.56002902054447 * indata[u"FP233"] + -2.47706568948746 * indata[u"FP244"] + 2.27409907250568 * indata[u"FP316"] + -2.4037333910772 * indata[u"FP328"] + 0.108586655824086 * indata[u"FP382"] + -1.73365868733156 * indata[u"FP50"] + -2.58822719247131 * indata[u"FP552"] + 0.464709168249496 * indata[u"FP604"] + -1.69307092115267 * indata[u"FP627"] + 2.1141520713781 * indata[u"FP632"] + -1.12232155977171 * indata[u"FP689"] + 0.446464450637301 * indata[u"FP702"] + -1.32449872481119 * indata[u"FP724"] + -1.61622573751775 * indata[u"FP805"] + 5.65015438335983 * indata[u"FP885"] + 4.0989456557956 * indata[u"FP898"] + -1.00808924632841 * indata[u"GraphFP199"] + 2.71800514274361 * indata[u"GraphFP233"] + 1.85394863424053 * indata[u"GraphFP496"] + -3.22050455527593 * indata[u"GraphFP50"] + -2.39320086852265 * indata[u"GraphFP58"] + 1.36353102059299 * indata[u"GraphFP619"] + 1.87028487091301 * indata[u"GraphFP692"] + -1.29012472653373 * indata[u"GraphFP75"] + 2.58875200355326 * indata[u"GraphFP993"]))

    H1_5 = tanh((-0.0222771998178339 + -1.13024410680936 * indata[u"1:114713908"] + -2.73096888585301 * indata[u"1:154157688"] + 2.60516965565493 * indata[u"1:36473793"] + -0.604099664844019 * indata[u"1:7640390"] + 1.42604904095388 * indata[u"2:25742766"] + -3.07985117503386 * indata[u"2:60462345"] + 0.325775997268437 * indata[u"3:186786177"] + -0.956190358962313 * indata[u"3:195781645"] + -0.484884548428102 * indata[u"3:195788793"] + 1.10917294661236 * indata[u"3:195790142"] + 0.994716205436127 * indata[u"3:41224585"] + -0.0900050180829095 * indata[u"4:125491178"] + -0.0723745069411457 * indata[u"4:86750763"] + -2.2254176685406 * indata[u"5:24535269"] + 1.31785574814096 * indata[u"6:106105439"] + 2.29078573649079 * indata[u"ExtFP10"] + -4.63351937020516 * indata[u"ExtFP240"] + -0.6802665032028 * indata[u"ExtFP250"] + -0.441928696182889 * indata[u"ExtFP28"] + 1.85027611601409 * indata[u"ExtFP338"] + 4.55069180517241 * indata[u"ExtFP477"] + -0.0386281700113653 * indata[u"ExtFP780"] + 0.87287293277278 * indata[u"FP1014"] + 2.10958174235286 * indata[u"FP233"] + -0.308912615285412 * indata[u"FP244"] + -1.59103648616214 * indata[u"FP316"] + 0.103053896576201 * indata[u"FP328"] + 2.1492973159831 * indata[u"FP382"] + -0.854170465705895 * indata[u"FP50"] + 1.10391557094174 * indata[u"FP552"] + -1.74510410065647 * indata[u"FP604"] + -0.801491355472012 * indata[u"FP627"] + 2.03560441744507 * indata[u"FP632"] + -0.436104369089689 * indata[u"FP689"] + -3.49286318979704 * indata[u"FP702"] + -1.95356150567168 * indata[u"FP724"] + 0.302073812218723 * indata[u"FP805"] + 1.24607433673346 * indata[u"FP885"] + -2.08075106429233 * indata[u"FP898"] + 2.18641574381095 * indata[u"GraphFP199"] + 1.6763238699818 * indata[u"GraphFP233"] + -3.78593302763798 * indata[u"GraphFP496"] + -6.10500226115326 * indata[u"GraphFP50"] + 1.05924329580802 * indata[u"GraphFP58"] + -5.08762451767019 * indata[u"GraphFP619"] + 1.76089824441555 * indata[u"GraphFP692"] + 3.10383947346299 * indata[u"GraphFP75"] + -1.24997891233001 * indata[u"GraphFP993"]))

    H1_6 = tanh((3.0436854008271 + 1.00317802707606 * indata[u"1:114713908"] + 4.45280066293565 * indata[u"1:154157688"] + 2.6568083397869 * indata[u"1:36473793"] + 2.15572113332459 * indata[u"1:7640390"] + -2.37635405323405 * indata[u"2:25742766"] + 3.02916479493819 * indata[u"2:60462345"] + -0.651823040060486 * indata[u"3:186786177"] + -0.822822392397333 * indata[u"3:195781645"] + -1.54192091267267 * indata[u"3:195788793"] + -0.604667473959057 * indata[u"3:195790142"] + 1.06254389693636 * indata[u"3:41224585"] + -0.00220204111850839 * indata[u"4:125491178"] + -2.55268308179242 * indata[u"4:86750763"] + 0.772215535478116 * indata[u"5:24535269"] + -0.289851502521932 * indata[u"6:106105439"] + -1.66850499693907 * indata[u"ExtFP10"] + 1.00182467691371 * indata[u"ExtFP240"] + 0.340187612317436 * indata[u"ExtFP250"] + 3.5183001835861 * indata[u"ExtFP28"] + 2.66611435903322 * indata[u"ExtFP338"] + -2.26276916662549 * indata[u"ExtFP477"] + -2.39465578119695 * indata[u"ExtFP780"] + 3.78294112670916 * indata[u"FP1014"] + 1.81165959201697 * indata[u"FP233"] + -4.16538244903499 * indata[u"FP244"] + -0.975865091432684 * indata[u"FP316"] + -2.58030041450468 * indata[u"FP328"] + -5.77958404288425 * indata[u"FP382"] + -1.2614646182521 * indata[u"FP50"] + 3.16838092845304 * indata[u"FP552"] + 0.716261016942139 * indata[u"FP604"] + -3.41573418431634 * indata[u"FP627"] + 2.18953008640127 * indata[u"FP632"] + -4.25311045803587 * indata[u"FP689"] + 1.92666518359086 * indata[u"FP702"] + 1.30023135998321 * indata[u"FP724"] + 0.144948179514127 * indata[u"FP805"] + 0.0511598782229808 * indata[u"FP885"] + -1.92876397165238 * indata[u"FP898"] + -3.93340291862495 * indata[u"GraphFP199"] + -4.61397900700567 * indata[u"GraphFP233"] + -1.71911899594797 * indata[u"GraphFP496"] + -8.26903335617693 * indata[u"GraphFP50"] + 1.28724831537112 * indata[u"GraphFP58"] + -3.96105172241694 * indata[u"GraphFP619"] + 4.38088979410054 * indata[u"GraphFP692"] + -0.267174231980587 * indata[u"GraphFP75"] + 0.0865399135266654 * indata[u"GraphFP993"]))

    H1_7 = tanh((5.90980821380788 + 0.067524612101788 * indata[u"1:114713908"] + 0.0449328001329864 * indata[u"1:154157688"] + 0.942930373080402 * indata[u"1:36473793"] + 0.00325895840014794 * indata[u"1:7640390"] + -0.89471435121818 * indata[u"2:25742766"] + 0.198877241819588 * indata[u"2:60462345"] + 2.1298454972656 * indata[u"3:186786177"] + 1.43661934434831 * indata[u"3:195781645"] + 0.762416774817058 * indata[u"3:195788793"] + -3.2564310670357 * indata[u"3:195790142"] + 2.67332661321624 * indata[u"3:41224585"] + 1.61327954945141 * indata[u"4:125491178"] + -0.716830634039321 * indata[u"4:86750763"] + -1.73438879866972 * indata[u"5:24535269"] + -2.059115378438 * indata[u"6:106105439"] + -0.738410488734917 * indata[u"ExtFP10"] + -2.70348987482388 * indata[u"ExtFP240"] + 1.64915413017743 * indata[u"ExtFP250"] + -2.04972915460388 * indata[u"ExtFP28"] + -2.0561358449946 * indata[u"ExtFP338"] + -1.77171998898076 * indata[u"ExtFP477"] + -2.4824469501233 * indata[u"ExtFP780"] + 2.039787443918 * indata[u"FP1014"] + -7.15243594566097 * indata[u"FP233"] + -0.685874613165906 * indata[u"FP244"] + 2.96095436483572 * indata[u"FP316"] + 0.27348414640597 * indata[u"FP328"] + 2.45362250952742 * indata[u"FP382"] + 1.20384870642908 * indata[u"FP50"] + 0.783696976965259 * indata[u"FP552"] + -0.0123811481628758 * indata[u"FP604"] + 1.11121466931477 * indata[u"FP627"] + -3.29009687463766 * indata[u"FP632"] + -2.53385543911092 * indata[u"FP689"] + 0.00674477834624907 * indata[u"FP702"] + 0.974199456051828 * indata[u"FP724"] + -3.06801143869116 * indata[u"FP805"] + 2.58704449730978 * indata[u"FP885"] + -0.986623892873981 * indata[u"FP898"] + 1.67847492675821 * indata[u"GraphFP199"] + -1.65276326289564 * indata[u"GraphFP233"] + 0.294260156986444 * indata[u"GraphFP496"] + -0.0365551360211453 * indata[u"GraphFP50"] + 6.46063971396501 * indata[u"GraphFP58"] + -3.97578314829641 * indata[u"GraphFP619"] + -2.92405546101146 * indata[u"GraphFP692"] + -1.40168702122436 * indata[u"GraphFP75"] + -0.235182916793411 * indata[u"GraphFP993"]))

    outdata[u"Predicted IC50_1"] = 1.71796205135508 + -1.11489886119381 * H1_1 + 0.740228637975967 * H1_2 + 0.950784550311379 * H1_3 + 1.02185762231898 * H1_4 + -1.05252108388313 * H1_5 + 1.04157199884398 * H1_6 + 1.24090462326489 * H1_7

    return outdata[u"Predicted IC50_1"]


