from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"thyroid", "version": u"14.1.0", "timestamp": u"2019-05-16T01:59:48Z"}


def getInputMetadata():
    return {
        u"1:110342196": "float",
        u"1:3385184": "float",
        u"2:222941596": "float",
        u"2:45008573": "float",
        u"3:121519991": "float",
        u"3:128622324": "float",
        u"ExtFP10": "float",
        u"ExtFP240": "float",
        u"ExtFP28": "float",
        u"ExtFP338": "float",
        u"ExtFP477": "float",
        u"ExtFP570": "float",
        u"ExtFP691": "float",
        u"FP17": "float",
        u"FP233": "float",
        u"FP244": "float",
        u"FP316": "float",
        u"FP382": "float",
        u"FP604": "float",
        u"FP632": "float",
        u"FP689": "float",
        u"FP698": "float",
        u"FP702": "float",
        u"FP724": "float",
        u"FP805": "float",
        u"FP885": "float",
        u"GraphFP199": "float",
        u"GraphFP328": "float",
        u"GraphFP496": "float",
        u"GraphFP50": "float",
        u"GraphFP51": "float",
        u"GraphFP619": "float",
        u"GraphFP993": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H1_1
    # H1_2
    # H1_3
    # H1_4
    # H1_5
    # H1_6

    H1_1 = tanh((-11.4565643683238 + -3.5797953462013 * indata[u"1:110342196"] + -6.22294398538717 * indata[u"1:3385184"] + -5.4529859373747 * indata[u"2:222941596"] + -9.0321099278092 * indata[u"2:45008573"] + -7.10404113086895 * indata[u"3:121519991"] + -3.68797317945617 * indata[u"3:128622324"] + 8.00129753178843 * indata[u"ExtFP10"] + -3.3114963853891 * indata[u"ExtFP240"] + -4.11495158822917 * indata[u"ExtFP28"] + 0.908376391259781 * indata[u"ExtFP338"] + -4.09023051457786 * indata[u"ExtFP477"] + 8.99001166923997 * indata[u"ExtFP570"] + 6.55250122547372 * indata[u"ExtFP691"] + -9.99638272770716 * indata[u"FP17"] + 5.03202001768902 * indata[u"FP233"] + 5.37015530214193 * indata[u"FP244"] + 6.14268869524103 * indata[u"FP316"] + 7.67320072104164 * indata[u"FP382"] + -0.13830140034325 * indata[u"FP604"] + 7.54478209041302 * indata[u"FP632"] + 8.64956015738655 * indata[u"FP689"] + 4.63741918903135 * indata[u"FP698"] + 0.729246338442921 * indata[u"FP702"] + 3.2097036839755 * indata[u"FP724"] + -5.89549396088404 * indata[u"FP805"] + -4.56108018405833 * indata[u"FP885"] + 0.313737147415142 * indata[u"GraphFP199"] + -2.48736191344543 * indata[u"GraphFP328"] + 11.9502482120429 * indata[u"GraphFP496"] + -21.3829671207857 * indata[u"GraphFP50"] + 1.56534662168043 * indata[u"GraphFP51"] + 9.05256186338857 * indata[u"GraphFP619"] + 0.153711830426238 * indata[u"GraphFP993"]))

    H1_2 = tanh((3.84134561082617 + -1.73311484632153 * indata[u"1:110342196"] + -3.36381440844203 * indata[u"1:3385184"] + 0.219114497068836 * indata[u"2:222941596"] + -2.44004435475254 * indata[u"2:45008573"] + -2.07108477335795 * indata[u"3:121519991"] + 2.07351028140481 * indata[u"3:128622324"] + 11.7279567757123 * indata[u"ExtFP10"] + -2.1958618100926 * indata[u"ExtFP240"] + 9.18239681789442 * indata[u"ExtFP28"] + 3.45235056653964 * indata[u"ExtFP338"] + -2.81320395775779 * indata[u"ExtFP477"] + -1.46758174740215 * indata[u"ExtFP570"] + 1.90296600656231 * indata[u"ExtFP691"] + -10.4123741973232 * indata[u"FP17"] + -0.0210685493446969 * indata[u"FP233"] + -5.46980716535611 * indata[u"FP244"] + -2.8373853538922 * indata[u"FP316"] + 6.03228125170324 * indata[u"FP382"] + -2.56323267689702 * indata[u"FP604"] + -0.277986760115391 * indata[u"FP632"] + 15.2836189928876 * indata[u"FP689"] + 0.152441490430559 * indata[u"FP698"] + -1.4816419848337 * indata[u"FP702"] + -1.64453216204236 * indata[u"FP724"] + 0.896435164953115 * indata[u"FP805"] + -3.10316840620374 * indata[u"FP885"] + -6.46245358350964 * indata[u"GraphFP199"] + -12.6065264487084 * indata[u"GraphFP328"] + 13.1212383837865 * indata[u"GraphFP496"] + 6.84673362506864 * indata[u"GraphFP50"] + -7.33755095466709 * indata[u"GraphFP51"] + -13.3904621958836 * indata[u"GraphFP619"] + 3.17823015476994 * indata[u"GraphFP993"]))

    H1_3 = tanh((-1.31239907633758 + -2.66856282706643 * indata[u"1:110342196"] + 1.3544560305432 * indata[u"1:3385184"] + 0.999196383827899 * indata[u"2:222941596"] + -1.28518252234053 * indata[u"2:45008573"] + 0.256190310575514 * indata[u"3:121519991"] + 1.04279142103564 * indata[u"3:128622324"] + -9.15168609527989 * indata[u"ExtFP10"] + 8.25607676828451 * indata[u"ExtFP240"] + -3.80881809675736 * indata[u"ExtFP28"] + -4.02207135728888 * indata[u"ExtFP338"] + 1.96823707770976 * indata[u"ExtFP477"] + -1.04747795068134 * indata[u"ExtFP570"] + 2.14564420318757 * indata[u"ExtFP691"] + 7.04697745739239 * indata[u"FP17"] + -3.73191393213933 * indata[u"FP233"] + 6.69359400119086 * indata[u"FP244"] + -2.90894225834422 * indata[u"FP316"] + 1.00515813250745 * indata[u"FP382"] + -6.51993938848212 * indata[u"FP604"] + 4.26740754927562 * indata[u"FP632"] + -8.09818121098461 * indata[u"FP689"] + -3.67369604610368 * indata[u"FP698"] + -8.32015598154142 * indata[u"FP702"] + -8.14366563974724 * indata[u"FP724"] + 5.97893787404906 * indata[u"FP805"] + -8.78281462807829 * indata[u"FP885"] + 15.7388279726461 * indata[u"GraphFP199"] + -1.60873502609168 * indata[u"GraphFP328"] + -0.752809505781424 * indata[u"GraphFP496"] + 34.1856959992906 * indata[u"GraphFP50"] + -3.37750623994182 * indata[u"GraphFP51"] + -17.6372008212523 * indata[u"GraphFP619"] + 16.6347415219266 * indata[u"GraphFP993"]))

    H1_4 = tanh((0.112950324450264 + 2.52403406736666 * indata[u"1:110342196"] + 0.146294973068021 * indata[u"1:3385184"] + -2.90617528736457 * indata[u"2:222941596"] + -2.54814501325523 * indata[u"2:45008573"] + -1.49351209562843 * indata[u"3:121519991"] + -1.63892391870418 * indata[u"3:128622324"] + -0.137091279564445 * indata[u"ExtFP10"] + 3.79773897794957 * indata[u"ExtFP240"] + 3.45100730322251 * indata[u"ExtFP28"] + -5.33096482526016 * indata[u"ExtFP338"] + 2.73072374599533 * indata[u"ExtFP477"] + 6.06761649323109 * indata[u"ExtFP570"] + -2.9845806095043 * indata[u"ExtFP691"] + -9.60929353492928 * indata[u"FP17"] + 8.34549994919483 * indata[u"FP233"] + -1.28333280495716 * indata[u"FP244"] + -4.88947964610829 * indata[u"FP316"] + 8.15461475655079 * indata[u"FP382"] + -9.1061784556026 * indata[u"FP604"] + -6.12662874839992 * indata[u"FP632"] + -5.32494221166496 * indata[u"FP689"] + 4.1915310622901 * indata[u"FP698"] + 1.45932135034558 * indata[u"FP702"] + 3.95343566820409 * indata[u"FP724"] + -4.58712334442501 * indata[u"FP805"] + -4.38999256914017 * indata[u"FP885"] + 16.6785150453938 * indata[u"GraphFP199"] + 10.3990667417706 * indata[u"GraphFP328"] + 3.86399265117224 * indata[u"GraphFP496"] + 17.40893968617 * indata[u"GraphFP50"] + -6.59083831408506 * indata[u"GraphFP51"] + -6.4798079732339 * indata[u"GraphFP619"] + 1.68931104426089 * indata[u"GraphFP993"]))

    H1_5 = tanh((8.78387628398904 + -1.85461909048332 * indata[u"1:110342196"] + -1.3986521346175 * indata[u"1:3385184"] + 0.537892037545495 * indata[u"2:222941596"] + -2.10965783730148 * indata[u"2:45008573"] + -2.74875884215538 * indata[u"3:121519991"] + -0.168441969826082 * indata[u"3:128622324"] + 6.07797103726309 * indata[u"ExtFP10"] + 9.09193119378778 * indata[u"ExtFP240"] + 0.550378786925748 * indata[u"ExtFP28"] + 3.15226888991128 * indata[u"ExtFP338"] + -11.6721086795542 * indata[u"ExtFP477"] + -7.09395116208746 * indata[u"ExtFP570"] + 4.89267126756877 * indata[u"ExtFP691"] + -7.4512351877097 * indata[u"FP17"] + 1.95154163426965 * indata[u"FP233"] + -4.15473971176629 * indata[u"FP244"] + -2.17729547924152 * indata[u"FP316"] + 9.2842648089427 * indata[u"FP382"] + 0.523780096017568 * indata[u"FP604"] + 1.1481109965177 * indata[u"FP632"] + -2.60725530193535 * indata[u"FP689"] + 0.367947242557872 * indata[u"FP698"] + -7.00802578910686 * indata[u"FP702"] + -3.2482875385902 * indata[u"FP724"] + 4.19973170749111 * indata[u"FP805"] + -2.03950156730101 * indata[u"FP885"] + 1.48910296996633 * indata[u"GraphFP199"] + -1.49514328215323 * indata[u"GraphFP328"] + 4.39988407921758 * indata[u"GraphFP496"] + -7.08336210317983 * indata[u"GraphFP50"] + 3.36406731525899 * indata[u"GraphFP51"] + 0.0861562402335442 * indata[u"GraphFP619"] + 9.09382760856035 * indata[u"GraphFP993"]))

    H1_6 = tanh((0.323659035023605 + -5.27899876547802 * indata[u"1:110342196"] + -3.68864807900711 * indata[u"1:3385184"] + -2.27154834976971 * indata[u"2:222941596"] + -2.24997116415378 * indata[u"2:45008573"] + -3.22401729755474 * indata[u"3:121519991"] + -2.11073557042147 * indata[u"3:128622324"] + -9.75906201745372 * indata[u"ExtFP10"] + -1.52877566479519 * indata[u"ExtFP240"] + 5.90788588132699 * indata[u"ExtFP28"] + -1.04438451226928 * indata[u"ExtFP338"] + -4.49337491558433 * indata[u"ExtFP477"] + -2.22075839137241 * indata[u"ExtFP570"] + -10.1732496664752 * indata[u"ExtFP691"] + -1.86645328175378 * indata[u"FP17"] + 7.37393973489023 * indata[u"FP233"] + -1.15910954849146 * indata[u"FP244"] + 1.33650662932719 * indata[u"FP316"] + 1.27252577681745 * indata[u"FP382"] + 1.58228483011686 * indata[u"FP604"] + -0.978397894416374 * indata[u"FP632"] + -0.00936925732839366 * indata[u"FP689"] + 5.07113309306372 * indata[u"FP698"] + 4.28414950774808 * indata[u"FP702"] + -1.65470877972394 * indata[u"FP724"] + 7.93835877824627 * indata[u"FP805"] + 1.36402122024396 * indata[u"FP885"] + -0.907322092366044 * indata[u"GraphFP199"] + 0.760459084077976 * indata[u"GraphFP328"] + -1.97648392582752 * indata[u"GraphFP496"] + -1.46187996134698 * indata[u"GraphFP50"] + 3.15580014999601 * indata[u"GraphFP51"] + 16.4702717992919 * indata[u"GraphFP619"] + 2.81155100775451 * indata[u"GraphFP993"]))

    outdata[u"Predicted IC50_1"] = 1.04521576488256 + -1.56221028560306 * H1_1 + -1.18590490961156 * H1_2 + -1.45584942418982 * H1_3 + -0.674668772478391 * H1_4 + 0.96672624894441 * H1_5 + -0.787517688103268 * H1_6

    return outdata[u"Predicted IC50_1"]


