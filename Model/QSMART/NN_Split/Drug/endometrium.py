from __future__ import division
import jmp_score as jmp
from math import *
import numpy as np


""" ==================================================================
 Copyright(C) 2018 SAS Institute Inc.All rights reserved.
 
 Notice:
 The following permissions are granted provided that the
 above copyright and this notice appear in the score code and
 any related documentation. Permission to copy, modify
 and distribute the score code generated using
 JMP(R) software is limited to customers of SAS Institute Inc. ("SAS")
 and successive third parties, all without any warranty, express or
 implied, or any other obligation by SAS. SAS and all other SAS
 Institute Inc. product and service names are registered
 trademarks or trademarks of SAS Institute Inc. in the USA
 and other countries. Except as contained in this notice,
 the name of the SAS Institute Inc. and JMP shall not be used in
 the advertising or promotion of products or services without
 prior written authorization from SAS Institute Inc.
 ================================================================== """

""" Python code generated by JMP v14.1.0 """

def getModelMetadata():
	return {"creator": u"Neural", "modelName": u"", "predicted": u"IC50", "table": u"endometrium", "version": u"14.1.0", "timestamp": u"2019-07-30T17:42:43Z"}


def getInputMetadata():
    return {
        u"Fingerprint_611": "float",
        u"Fingerprint_617": "float",
        u"Fingerprint_629": "float",
        u"Fingerprint_635": "float",
        u"Fingerprint_644": "float",
        u"Fingerprint_646": "float",
        u"Fingerprint_672": "float",
        u"Fingerprint_677": "float",
        u"Fingerprint_685": "float",
        u"Fingerprint_697": "float",
        u"Fingerprint_698": "float",
        u"Fingerprint_710": "float",
        u"Fingerprint_712": "float",
        u"Fingerprint_776": "float",
        u"Fingerprint_797": "float",
        u"Fingerprint_813": "float",
        u"Fingerprint_819": "float",
        u"Fingerprint_822": "float",
        u"Fingerprint_824": "float",
        u"Fingerprint_834": "float",
        u"From_Sanger": "float"
	}


def getOutputMetadata():
    return {
        u"Predicted IC50_1": "float"
	}


def score(indata, outdata):
    # H2_1
    # H2_2
    # H2_3
    # H2_4
    # H2_5
    # H2_6
    # H2_7
    # H2_8
    # H2_9
    # H2_10
    # H2_11
    # H1_1
    # H1_2
    # H1_3
    # H1_4

    H2_1 = tanh((-0.713314409701312 + 1.13331635310339 * indata[u"Fingerprint_611"] + 0.89210545201225 * indata[u"Fingerprint_617"] + -2.57239968092523 * indata[u"Fingerprint_629"] + 4.34832674505553 * indata[u"Fingerprint_635"] + -0.919826092921338 * indata[u"Fingerprint_644"] + 0.448192875190138 * indata[u"Fingerprint_646"] + 0.5443616377862 * indata[u"Fingerprint_672"] + -0.742345210147444 * indata[u"Fingerprint_677"] + 1.09931406530727 * indata[u"Fingerprint_685"] + -1.71500271465628 * indata[u"Fingerprint_697"] + -1.34425601029098 * indata[u"Fingerprint_698"] + 1.89212854841837 * indata[u"Fingerprint_710"] + -2.63716092748021 * indata[u"Fingerprint_712"] + -0.823491567638208 * indata[u"Fingerprint_776"] + -1.04070883692222 * indata[u"Fingerprint_797"] + -2.90635065750965 * indata[u"Fingerprint_813"] + -1.13781425648781 * indata[u"Fingerprint_819"] + 4.68648085496392 * indata[u"Fingerprint_822"] + 1.36674991173464 * indata[u"Fingerprint_824"] + -0.320982994059616 * indata[u"Fingerprint_834"] + 0.692411113969638 * indata[u"From_Sanger"]))

    H2_2 = tanh((4.4974169098505 + 2.22124805236501 * indata[u"Fingerprint_611"] + -1.49352224930017 * indata[u"Fingerprint_617"] + -3.99062001369828 * indata[u"Fingerprint_629"] + -2.9519654163086 * indata[u"Fingerprint_635"] + -1.10950799484869 * indata[u"Fingerprint_644"] + 0.100647333091536 * indata[u"Fingerprint_646"] + -1.3800916496883 * indata[u"Fingerprint_672"] + -1.75173083132256 * indata[u"Fingerprint_677"] + 1.73375614920892 * indata[u"Fingerprint_685"] + -1.44957052681798 * indata[u"Fingerprint_697"] + 1.3821352905969 * indata[u"Fingerprint_698"] + -0.45858663123057 * indata[u"Fingerprint_710"] + -1.00452875670506 * indata[u"Fingerprint_712"] + -1.08595205756413 * indata[u"Fingerprint_776"] + 0.725374421718996 * indata[u"Fingerprint_797"] + -0.691276241817519 * indata[u"Fingerprint_813"] + -0.146658144301014 * indata[u"Fingerprint_819"] + 3.27190796034662 * indata[u"Fingerprint_822"] + 0.781660469024063 * indata[u"Fingerprint_824"] + 2.10119485355266 * indata[u"Fingerprint_834"] + -0.178918570713565 * indata[u"From_Sanger"]))

    H2_3 = tanh((-0.422915033495555 + 0.474530895028601 * indata[u"Fingerprint_611"] + -3.21034801772451 * indata[u"Fingerprint_617"] + -2.59583522191024 * indata[u"Fingerprint_629"] + -5.79234393557807 * indata[u"Fingerprint_635"] + -0.01092059847452 * indata[u"Fingerprint_644"] + 0.989529097402764 * indata[u"Fingerprint_646"] + -1.81271332258356 * indata[u"Fingerprint_672"] + 1.48779773125958 * indata[u"Fingerprint_677"] + -2.39093179996894 * indata[u"Fingerprint_685"] + 0.528969545352647 * indata[u"Fingerprint_697"] + 1.71467661016193 * indata[u"Fingerprint_698"] + 1.07353318489385 * indata[u"Fingerprint_710"] + 0.526788339545795 * indata[u"Fingerprint_712"] + -0.846548616449943 * indata[u"Fingerprint_776"] + -0.80777619450775 * indata[u"Fingerprint_797"] + 0.307193737827845 * indata[u"Fingerprint_813"] + -4.66604834408916 * indata[u"Fingerprint_819"] + 2.66610975876721 * indata[u"Fingerprint_822"] + 0.119264288666847 * indata[u"Fingerprint_824"] + 0.608180327900416 * indata[u"Fingerprint_834"] + -1.83399176117301 * indata[u"From_Sanger"]))

    H2_4 = tanh((2.94316823644315 + -0.974560865169533 * indata[u"Fingerprint_611"] + -1.71854350774224 * indata[u"Fingerprint_617"] + 1.95133121578998 * indata[u"Fingerprint_629"] + 2.14454141607289 * indata[u"Fingerprint_635"] + -0.734190616322196 * indata[u"Fingerprint_644"] + 0.261228372304407 * indata[u"Fingerprint_646"] + -3.213226503923 * indata[u"Fingerprint_672"] + -1.56683457050484 * indata[u"Fingerprint_677"] + 0.139210087841564 * indata[u"Fingerprint_685"] + -2.73315817958089 * indata[u"Fingerprint_697"] + -1.66309678799523 * indata[u"Fingerprint_698"] + 2.2022077756226 * indata[u"Fingerprint_710"] + 1.05851721364886 * indata[u"Fingerprint_712"] + 2.46456885807589 * indata[u"Fingerprint_776"] + -0.985371173562297 * indata[u"Fingerprint_797"] + -3.9424605762142 * indata[u"Fingerprint_813"] + 0.993905439078306 * indata[u"Fingerprint_819"] + 1.23036929215233 * indata[u"Fingerprint_822"] + 1.12971951612799 * indata[u"Fingerprint_824"] + 3.13466123520021 * indata[u"Fingerprint_834"] + -2.82919546611465 * indata[u"From_Sanger"]))

    H2_5 = tanh((-3.22585953182818 + -0.108574618421318 * indata[u"Fingerprint_611"] + -1.18612219571851 * indata[u"Fingerprint_617"] + -2.18426101771509 * indata[u"Fingerprint_629"] + 0.968818242135851 * indata[u"Fingerprint_635"] + -1.42928322531996 * indata[u"Fingerprint_644"] + -0.241741116946361 * indata[u"Fingerprint_646"] + -0.598209777340036 * indata[u"Fingerprint_672"] + -0.910799878726867 * indata[u"Fingerprint_677"] + 1.68714143321807 * indata[u"Fingerprint_685"] + 3.7419852771368 * indata[u"Fingerprint_697"] + -0.545890012487032 * indata[u"Fingerprint_698"] + 3.90217063750486 * indata[u"Fingerprint_710"] + -0.950668877872581 * indata[u"Fingerprint_712"] + 0.938457022027567 * indata[u"Fingerprint_776"] + 2.24949856659994 * indata[u"Fingerprint_797"] + -0.235563526110939 * indata[u"Fingerprint_813"] + -0.260888742878528 * indata[u"Fingerprint_819"] + -2.26574868613016 * indata[u"Fingerprint_822"] + 0.320258178784192 * indata[u"Fingerprint_824"] + 2.02070123071211 * indata[u"Fingerprint_834"] + -1.63602193583799 * indata[u"From_Sanger"]))

    H2_6 = tanh((2.26993832270082 + -1.25281057739637 * indata[u"Fingerprint_611"] + 0.245511211569639 * indata[u"Fingerprint_617"] + -0.917252755464113 * indata[u"Fingerprint_629"] + -0.79602672234256 * indata[u"Fingerprint_635"] + -2.38936657908706 * indata[u"Fingerprint_644"] + 0.744056158120397 * indata[u"Fingerprint_646"] + -1.20791512359838 * indata[u"Fingerprint_672"] + -0.266200280695382 * indata[u"Fingerprint_677"] + -0.695845181039674 * indata[u"Fingerprint_685"] + -1.22046986530992 * indata[u"Fingerprint_697"] + -0.134943959979079 * indata[u"Fingerprint_698"] + 1.41618303634132 * indata[u"Fingerprint_710"] + -1.55808422719039 * indata[u"Fingerprint_712"] + -2.23656895871137 * indata[u"Fingerprint_776"] + -3.98144479579196 * indata[u"Fingerprint_797"] + -3.16497051771847 * indata[u"Fingerprint_813"] + 0.00183958394339835 * indata[u"Fingerprint_819"] + -1.75695774102507 * indata[u"Fingerprint_822"] + -0.299358142636364 * indata[u"Fingerprint_824"] + 1.46222427877823 * indata[u"Fingerprint_834"] + 1.95932547521937 * indata[u"From_Sanger"]))

    H2_7 = tanh((5.3025859122749 + 1.82959762492284 * indata[u"Fingerprint_611"] + 2.55974061012368 * indata[u"Fingerprint_617"] + 1.30193049291914 * indata[u"Fingerprint_629"] + -1.99336125642669 * indata[u"Fingerprint_635"] + 0.579248933115827 * indata[u"Fingerprint_644"] + -0.316472414689377 * indata[u"Fingerprint_646"] + -2.57385392383954 * indata[u"Fingerprint_672"] + -5.0983228563869 * indata[u"Fingerprint_677"] + -0.776865140952719 * indata[u"Fingerprint_685"] + 0.449158056524363 * indata[u"Fingerprint_697"] + -1.42045469041512 * indata[u"Fingerprint_698"] + -1.16899693197772 * indata[u"Fingerprint_710"] + 2.33399849634371 * indata[u"Fingerprint_712"] + -0.218299483447061 * indata[u"Fingerprint_776"] + 0.758085415738923 * indata[u"Fingerprint_797"] + -0.860818440736417 * indata[u"Fingerprint_813"] + -1.1364195121559 * indata[u"Fingerprint_819"] + 3.45712942357093 * indata[u"Fingerprint_822"] + 1.60198784218274 * indata[u"Fingerprint_824"] + -3.90341299600417 * indata[u"Fingerprint_834"] + 1.61220920316473 * indata[u"From_Sanger"]))

    H2_8 = tanh((1.2162765958413 + -0.483794242500572 * indata[u"Fingerprint_611"] + 0.99154252260037 * indata[u"Fingerprint_617"] + 0.964898050629631 * indata[u"Fingerprint_629"] + 3.27535263613627 * indata[u"Fingerprint_635"] + 0.373877616367648 * indata[u"Fingerprint_644"] + -1.0189560881453 * indata[u"Fingerprint_646"] + -0.00994058931224875 * indata[u"Fingerprint_672"] + -0.269805614151036 * indata[u"Fingerprint_677"] + 1.90664877087462 * indata[u"Fingerprint_685"] + -2.38340308883712 * indata[u"Fingerprint_697"] + 0.0614411314601976 * indata[u"Fingerprint_698"] + -0.345532360511084 * indata[u"Fingerprint_710"] + -0.571847301468044 * indata[u"Fingerprint_712"] + -1.55960527037268 * indata[u"Fingerprint_776"] + -0.182043249696836 * indata[u"Fingerprint_797"] + 2.17505792947612 * indata[u"Fingerprint_813"] + 0.252471229028388 * indata[u"Fingerprint_819"] + -1.74997507996198 * indata[u"Fingerprint_822"] + -0.899855941585861 * indata[u"Fingerprint_824"] + -3.63896267280961 * indata[u"Fingerprint_834"] + 0.983483001087218 * indata[u"From_Sanger"]))

    H2_9 = tanh((5.57153640802836 + 1.39455212313444 * indata[u"Fingerprint_611"] + 0.0110985255962899 * indata[u"Fingerprint_617"] + 0.953097910878317 * indata[u"Fingerprint_629"] + 2.66147729082103 * indata[u"Fingerprint_635"] + 0.871926675776512 * indata[u"Fingerprint_644"] + -1.53366980015507 * indata[u"Fingerprint_646"] + 2.1602914602885 * indata[u"Fingerprint_672"] + -1.29240420238678 * indata[u"Fingerprint_677"] + -3.12497711429035 * indata[u"Fingerprint_685"] + -0.568860901743291 * indata[u"Fingerprint_697"] + 0.170035251832992 * indata[u"Fingerprint_698"] + -4.08454665568112 * indata[u"Fingerprint_710"] + -0.412630572530728 * indata[u"Fingerprint_712"] + -0.524817132958083 * indata[u"Fingerprint_776"] + 1.24142704897768 * indata[u"Fingerprint_797"] + 3.42172283375064 * indata[u"Fingerprint_813"] + -1.26404066961482 * indata[u"Fingerprint_819"] + 2.50657611117169 * indata[u"Fingerprint_822"] + -0.446295580204741 * indata[u"Fingerprint_824"] + -4.96755357191049 * indata[u"Fingerprint_834"] + -0.926183054495349 * indata[u"From_Sanger"]))

    H2_10 = tanh((-4.03710756236183 + 0.679922461887317 * indata[u"Fingerprint_611"] + -1.34407625138639 * indata[u"Fingerprint_617"] + -1.93121286896695 * indata[u"Fingerprint_629"] + 2.02478852367029 * indata[u"Fingerprint_635"] + 0.0674589183312723 * indata[u"Fingerprint_644"] + 0.246924268840584 * indata[u"Fingerprint_646"] + -1.64743618924765 * indata[u"Fingerprint_672"] + 3.2260643162389 * indata[u"Fingerprint_677"] + 0.615112549237249 * indata[u"Fingerprint_685"] + 1.59902465880666 * indata[u"Fingerprint_697"] + 1.43430261216729 * indata[u"Fingerprint_698"] + -0.426149639042959 * indata[u"Fingerprint_710"] + 2.47683024412759 * indata[u"Fingerprint_712"] + 1.65178211235401 * indata[u"Fingerprint_776"] + -1.64664424774685 * indata[u"Fingerprint_797"] + 4.13955603424289 * indata[u"Fingerprint_813"] + 1.08469658724743 * indata[u"Fingerprint_819"] + -1.82548549545035 * indata[u"Fingerprint_822"] + -0.05509242916844 * indata[u"Fingerprint_824"] + -2.63668088932443 * indata[u"Fingerprint_834"] + -1.15701403913451 * indata[u"From_Sanger"]))

    H2_11 = tanh((-2.53714494407413 + -0.270170724902175 * indata[u"Fingerprint_611"] + -1.16795960481043 * indata[u"Fingerprint_617"] + -3.89701867154413 * indata[u"Fingerprint_629"] + 2.34317537562345 * indata[u"Fingerprint_635"] + 2.25632309944758 * indata[u"Fingerprint_644"] + 1.89213170247673 * indata[u"Fingerprint_646"] + -0.784232226038867 * indata[u"Fingerprint_672"] + 1.12632952090049 * indata[u"Fingerprint_677"] + -3.07793217323067 * indata[u"Fingerprint_685"] + -1.29347299281755 * indata[u"Fingerprint_697"] + -2.10349498338209 * indata[u"Fingerprint_698"] + 2.72337596408884 * indata[u"Fingerprint_710"] + 0.986837586805893 * indata[u"Fingerprint_712"] + -0.840778537858831 * indata[u"Fingerprint_776"] + -0.278317672430939 * indata[u"Fingerprint_797"] + 4.26349013533075 * indata[u"Fingerprint_813"] + 0.460899152800854 * indata[u"Fingerprint_819"] + -2.32261985322329 * indata[u"Fingerprint_822"] + 1.34970837580668 * indata[u"Fingerprint_824"] + 0.76545574405972 * indata[u"Fingerprint_834"] + -1.64246718744827 * indata[u"From_Sanger"]))

    H1_1 = tanh((0.366203149724945 + -1.69578820332174 * H2_1 + 0.391560645752444 * H2_10 + 0.151030369591254 * H2_11 + 1.01221503984506 * H2_2 + -0.198369460438023 * H2_3 + -0.533205597240079 * H2_4 + -0.537412988365152 * H2_5 + 0.215756322772346 * H2_6 + 1.09857397902042 * H2_7 + -0.714167426947834 * H2_8 + -0.382081892905722 * H2_9))

    H1_2 = tanh((0.325123102788796 + 0.630025700177663 * H2_1 + -1.06021241766955 * H2_10 + 0.0749970743679461 * H2_11 + -0.856833117379488 * H2_2 + -0.386282822532352 * H2_3 + 0.319692106369652 * H2_4 + -0.518493148290609 * H2_5 + -0.570965940048944 * H2_6 + -0.392708967436712 * H2_7 + -0.0439640462078565 * H2_8 + 0.828487233329965 * H2_9))

    H1_3 = tanh((0.813786149028644 + 1.00525625769218 * H2_1 + 0.386962485654355 * H2_10 + -0.000491964845896096 * H2_11 + -0.26242329342802 * H2_2 + 0.54572178692072 * H2_3 + 0.0667476980034816 * H2_4 + 0.68714213369949 * H2_5 + 0.748519667918207 * H2_6 + -0.601875868449526 * H2_7 + 0.253444115433654 * H2_8 + -0.193926723599238 * H2_9))

    H1_4 = tanh((0.172083237920715 + 0.642114324804432 * H2_1 + -0.196776230389711 * H2_10 + 1.53513153456635 * H2_11 + 0.240039348488712 * H2_2 + 1.25022661881802 * H2_3 + -1.73375840556337 * H2_4 + -0.696079992310477 * H2_5 + 1.24173322736746 * H2_6 + -0.0913016232040684 * H2_7 + -0.347736104681224 * H2_8 + -0.575761762325654 * H2_9))

    outdata[u"Predicted IC50_1"] = -0.165434670149145 + 4.13600906750434 * H1_1 + 2.35804445986718 * H1_2 + 5.08975908624991 * H1_3 + -2.18354311721357 * H1_4

    return outdata[u"Predicted IC50_1"]


